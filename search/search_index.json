{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#michigan-imputation-server-2free-next-generation-genotype-imputation-platform","title":"Michigan Imputation Server 2Free Next-Generation Genotype Imputation Platform","text":"<p>Michigan Imputation Server 2 provides a free genotype imputation service (chromosomes 1-22, chromosome X and HLA region) using Minimac4. You can upload phased or unphased GWAS genotypes and receive phased and imputed genomes in return. Our server supports imputation from numerous reference panels. For all uploaded datasets a comprehensive QC is performed. The complete source code is hosted on GitHub.</p> <p>Please cite this paper if you use Michigan Imputation Server 2:</p> <p>Das S, Forer L, Sch\u00f6nherr S, Sidore C, Locke AE, Kwong A, Vrieze S, Chew EY, Levy S, McGue M, Schlessinger D, Stambolian D, Loh PR, Iacono WG, Swaroop A, Scott LJ, Cucca F, Kronenberg F, Boehnke M, Abecasis GR, Fuchsberger C. Next-generation genotype imputation service and methods. Nature Genetics 48, 1284\u20131287 (2016).</p>"},{"location":"#latest-news","title":"Latest News","text":"<p>  19 September 2024    We have successfully migrated to a new architecture and released Michigan Imputation Server 2. Please note the major change regarding allele swaps!   Learn more. </p> <p>  21 May 2021     We have increased the max sample size to 110k. </p> <p>  15 April 2021     Update to new framework completed! Currently, max sample size will be limited to 25k, but we expect to lift this limitation in the next few weeks. </p> <p>  18 March 2020     Due to coronavirus-related impacts support may be slower than usual. If you haven't heard back from us after a week or so, feel free to e-mail again to check on the status of things. Take care! </p> <p>  07 November 2019     Updated MIS to v1.2.4! Major improvements: Minimac4 for imputation, improved chrX support, QC check right after upload, better documentation. Checkout out our GitHub repository for further information. </p> <p>  17 October 2019     Michigan Imputation Server at ASHG19. All information is available here. </p> <p>  27 November 2018     Redesigned user interface to improve user experience. </p> <p>  27 June 2017     Updated pipeline to v1.0.2. Release notes can be found here. </p> <p>  29 Aug 2016     Imputation server paper is out now: Das et al., Nature Genetics 2016 </p> <p>  19 April 2016     Updated HRC Panel (r1.1) available. </p> <p>  12 January 2016     New Reference Panel (CAAPA) available. </p> <p>  24 April 2015 HRC release 1 (64,976 haplotypes at 39,235,157 SNPs) is now ready for use for HRC consortium members. </p>"},{"location":"contact/","title":"Contact","text":"<p>The source code of Michigan Imputation Server 2 is  available on GitHub. Feel free to create issues and pull requests. Before contacting us, please have a look at the FAQ page first. </p>"},{"location":"contact/#michigan-imputation-server-2-team","title":"Michigan Imputation Server 2 Team","text":"<p>Michigan Imputation Server provides a free genotype imputation service using Minimac4. You can upload phased or unphased GWAS genotypes and receive phased and imputed genomes in return. For all uploaded data sets an extensive QC is performed.</p> <ul> <li>Christian Fuchsberger</li> <li>Lukas Forer</li> <li>Sebastian Sch\u00f6nherr</li> <li>Sayantan Das</li> <li>Gon\u00e7alo Abecasis</li> </ul> <p>Please contact Christian Fuchsberger in case of other problems.</p>"},{"location":"contact/#topmed-imputation-server-team","title":"TOPMed Imputation Server Team","text":"<p>Michigan Imputation Server provides a free genotype imputation service using Minimac4. You can upload phased or unphased GWAS genotypes and receive phased and imputed genomes in return. For all uploaded data sets an extensive QC is performed.</p> <ul> <li>Albert Smith</li> <li>Andy Boughton</li> </ul> <p>Please use this address for all inquiries.</p>"},{"location":"contact/#imputation-server-2-workflow","title":"Imputation Server 2 Workflow","text":"<p>The underlying imputation workflow has been developed by Lukas Forer and Sebastian Sch\u00f6nherr from the Institute of Genetic Epidemiology, Medical University of Innsbruck. </p>"},{"location":"contact/#cloud-framework-cloudgene","title":"Cloud framework: Cloudgene","text":"<ul> <li>Lukas Forer</li> <li>Sebastian Sch\u00f6nherr</li> </ul>"},{"location":"contact/#imputation-engine-minimac4","title":"Imputation engine: Minimac4","text":"<ul> <li>Sayantan Das</li> <li>Christian Fuchsberger</li> <li>Gon\u00e7alo Abecasis</li> </ul>"},{"location":"contact/#phasing-engine-eagle2","title":"Phasing engine: Eagle2","text":"<ul> <li>Po-Ru Loh</li> </ul>"},{"location":"data-sensitivity/","title":"Data Security","text":"<p>Since data is transfered to our server located in Michigan, a wide array of security measures are in force:</p> <ul> <li>All interactions with the server are secured with HTTPS.</li> <li>Input data is deleted from our servers as soon as it is no longer needed.</li> <li>We only store the number of samples and markers analyzed; we do not access your data in any way.</li> <li>All results are encrypted with a strong one-time password, ensuring that only you can access them.</li> <li>After imputation is complete, the data uploader has 7 days to retrieve the results using an encrypted connection.</li> <li>The complete source code is available in a public Github repository.</li> </ul>"},{"location":"data-sensitivity/#who-has-access","title":"Who has access?","text":"<p>To upload and download genotype data, users must register with a unique email address and a strong password. Each user can only download imputation results for samples they have uploaded themselves; other users of the Imputation Server will not have access to your data.</p>"},{"location":"data-sensitivity/#cookies","title":"Cookies","text":"<p>We value your privacy and are committed to transparency regarding the use of cookies on our website. Below, we outline our cookie policy to provide clarity and assurance.</p>"},{"location":"data-sensitivity/#what-are-cookies","title":"What are cookies?","text":"<p>Cookies are small text files that are placed on your device when you visit a website. They serve various purposes, including enhancing user experience, facilitating website functionality, and analyzing website traffic.</p>"},{"location":"data-sensitivity/#how-do-we-use-cookies","title":"How do we use cookies?","text":"<p>We use cookies only for the purpose of facilitating login functionality. These cookies help us recognize your device and authenticate your access to our platform securely. We do not track any personal information or analyze user activities through cookies.</p>"},{"location":"data-sensitivity/#why-do-we-use-cookies","title":"Why do we use cookies?","text":"<p>Cookies are essential for providing seamless login experiences to our users. By storing authentication information, cookies enable you to access your account efficiently without the need for repetitive login procedures. We respect your privacy and limit cookie usage exclusively to login purposes.</p>"},{"location":"data-sensitivity/#what-security-or-firewalls-protect-access","title":"What security or firewalls protect access?","text":"<p>A wide array of security measures are in force on the imputation servers:</p> <ul> <li>SSH access is restricted to system administrators only.</li> <li>Direct login via SSH is not permitted from the public Internet.</li> <li>The public-facing side of the servers is protected by the School of Public Health\u2019s Checkpoint virtual firewall, which uses a default-deny policy for inbound traffic, allowing only explicitly permitted TCP ports.</li> <li>The School of Public Health employs NIDS technologies such as Snort and Peakflow for traffic analysis and threat detection on its network links.</li> <li>On the imputation server, updates are regularly applied by system administrators who monitor multiple zero-day security advisories. OSSEC HIDS is used for log analysis and anomaly detection, while Denyhosts is employed to prevent brute-force SSH login attacks.</li> </ul>"},{"location":"data-sensitivity/#what-encryption-of-the-data-is-used-while-the-data-are-present","title":"What encryption of the data is used while the data are present?","text":"<p>Imputation results are encrypted with a one-time password generated by the system. The password includes lowercase and uppercase letters, special characters, and numbers, with a maximum of three duplicate characters.</p>"},{"location":"faq/","title":"Frequently Asked Questions","text":""},{"location":"faq/#i-did-not-receive-a-password-for-my-imputation-job","title":"I did not receive a password for my imputation job","text":"<p>Michigan Imputation Server 2 generates a random password for each imputation job. This password is not stored on the server at any time. If you did not receive a password, please check your email\u2019s SPAM folder. Please note that we are unable to re-send the password.</p>"},{"location":"faq/#unzip-command-is-not-working","title":"Unzip command is not working","text":"<p>Please check the following points: (1) When selecting AES256 encryption, use 7z to unzip your files (Debian: <code>sudo apt-get install p7zip-full</code>). For our default encryption, all common programs should work. (2) If your password includes special characters (e.g., \\), enclose the password in single or double quotes when extracting it from the command line (e.g., <code>7z x -p\"PASSWORD\" chr_22.zip</code>).</p>"},{"location":"faq/#extending-expiration-date-or-reset-download-counter","title":"Extending expiration date or reset download counter","text":"<p>Your data is available for 7 days. If you need an extension, please let us know.</p>"},{"location":"faq/#how-can-i-improve-the-download-speed","title":"How can I improve the download speed?","text":"<p>aria2 attempts to utilize your maximum download bandwidth. Please remember to increase the -k parameter significantly (<code>--min-split-size=SIZE</code>). Otherwise, you may hit the Michigan Imputation Server 2 download limit for each file (thanks to Anthony Marcketta for pointing this out).</p>"},{"location":"faq/#can-i-download-all-results-at-once","title":"Can I download all results at once?","text":"<p>We provide wget commands for all results. Please open the Results tab. The last column in each row contains direct links to all files.</p>"},{"location":"faq/#can-i-set-up-michigan-imputation-server-2-locally","title":"Can I set up Michigan Imputation Server 2 locally?","text":"<p>The workflow is based on Nextflow and can be downloaded from here </p>"},{"location":"faq/#your-web-service-looks-great-can-i-set-up-my-own-web-service-as-well","title":"Your web service looks great. Can I set up my own web service as well?","text":"<p>All web service functionality is provided by Cloudgene. Please contact us if you wish to set up your own service.</p>"},{"location":"getting-started/","title":"Genotype Imputation","text":"<p>To use Michigan Imputation Server 2, registration is required. We will send an activation email to the provided address. Please follow the instructions in the email to activate your account. If the email does not arrive, ensure you have entered the correct address and check your spam folder. For PGS calculation, registration via email is optional.</p> <p>Once the account is active, the service can be used at no cost.</p> <p>Please cite this paper if you use Michigan Imputation Server 2:</p> <p>Das S, Forer L, Sch\u00f6nherr S, Sidore C, Locke AE, Kwong A, Vrieze S, Chew EY, Levy S, McGue M, Schlessinger D, Stambolian D, Loh PR, Iacono WG, Swaroop A, Scott LJ, Cucca F, Kronenberg F, Boehnke M, Abecasis GR, Fuchsberger C. Next-generation genotype imputation service and methods. Nature Genetics 48, 1284\u20131287 (2016).</p>"},{"location":"getting-started/#setup-your-first-imputation-job","title":"Setup your first imputation job","text":"<p>Please log in with your credentials and click on the Run tab to start a new imputation job.  The submission dialog will allow you to specify the properties of your imputation job.</p> <p></p> <p>The following options are available:</p>"},{"location":"getting-started/#reference-panels","title":"Reference Panels","text":"<p>Our server offers genotype imputation using various reference panels. The most accurate and largest panel is HRC (Version r1.1 2016). Please select a panel that best meets your needs and supports the population of your input data.</p> <ul> <li>HRC (Version r1.1 2016)</li> <li>1000 Genomes Phase 3 (Version 5)</li> <li>1000 Genomes Phase 1 (Version 3)</li> <li>CAAPA - African American Panel</li> <li>Genome Asia Pilot</li> <li>Samoan</li> <li>HapMap 2</li> </ul> <p>We also provide three different panels for HLA imputation.</p> <p>More details about all available reference panels can be found here.</p>"},{"location":"getting-started/#upload-vcf-files-from-your-computer","title":"Upload VCF files from your computer","text":"<p>When using the file upload button, data is transferred from your local file system to Michigan Imputation Server 2. By clicking on Select Files, an open dialog will appear where you can choose your VCF files.</p> <p></p> <p>You can select multiple files by holding down the Ctrl, Cmd, or Shift key, depending on your operating system. After confirming your selection, all chosen files will be listed in the submission dialog.</p> <p></p> <p>Please ensure that all files meet the requirements.</p> <p>Important</p> <p>Since version 1.7.2 URL-based uploads (sftp and http) are no longer supported. Please use direct file uploads instead. </p>"},{"location":"getting-started/#build","title":"Build","text":"<p>Please select the build of your data. Currently, the supported options are hg19 and hg38. Michigan Imputation Server 2 will automatically update the genome positions (liftOver) for your data. </p>"},{"location":"getting-started/#rsq-filter","title":"rsq Filter","text":"<p>To minimize the file size, Michigan Imputation Server 2 includes an r<sup>2</sup> filter option that excludes all imputed SNPs with an r2-value (imputation quality) smaller than the specified threshold.</p>"},{"location":"getting-started/#phasing","title":"Phasing","text":"<p>If your uploaded data is unphased, Eagle v2.4 or Beagle b5.4 will be used for phasing. If your VCF file already contains phased genotypes, please select the \u201cNo phasing\u201d option.</p> <p>Important</p> <p>Michigan Imputation Server 2 will rephase your data if a phasing engine is selected.</p> Algorithm Description Eagle v2.4 The Eagle algorithm estimates haplotype phase using a specific reference panel. For HRC or 1000 Genomes imputation, the HRC panel is used for phasing."},{"location":"getting-started/#allele-frequency-check","title":"Allele Frequency Check","text":"<p>Please select the population of your uploaded samples. This information is used solely to compare allele frequencies between your data and the reference panel. Note that not every reference panel supports all sub-populations. If \u201cOFF\u201d is selected, no frequency check will be performed.</p> <p>Note</p> <p>In previous versions, this paramter was called \"population\".</p> Population Supported Reference Panels AFR all AMR all EUR all Mixed all AA CAAPA ASN 1000 Genomes Phase 1 (Version 3) EAS 1000 Genomes Phase 3 (Version 5) SAS 1000 Genomes Phase 3 (Version 5) <p>In case your population is not listed or your samples are from different populations, please select Off to skip the allele frequency check. </p>"},{"location":"getting-started/#mode","title":"Mode","text":"<p>Please select if you want to run Quality Control &amp; Imputation or Quality Control Only.</p> <p>Important</p> <p>Results (e.g. QC Report) will be available only after the entire job is complete.</p>"},{"location":"getting-started/#aes-256-encryption","title":"AES 256 encryption","text":"<p>All Michigan Imputation Server 2 results are encrypted by default. If you prefer to use AES 256 encryption instead of the default method, please check this box. Note that AES encryption may not be compatible with standard unzip programs; we recommend using 7-Zip instead.</p>"},{"location":"getting-started/#start-your-imputation-job","title":"Start your imputation job","text":"<p>After confirming our Terms of Service, you can start the imputation process immediately by clicking Start Imputation*.  If your data passes the QC steps, your job will be added to our imputation queue and processed as soon as possible. You can check your position in the queue on the job summary page.</p> <p></p> <p>We will notify you by email as soon as the job is finished or if your data does not pass the quality control steps.</p>"},{"location":"getting-started/#input-validation","title":"Input Validation","text":"<p>In the first step, we check if your uploaded files are valid and calculate basic statistics, such as the number of samples, chromosomes, and SNPs.</p> <p></p> <p>After the input validation is complete, basic statistics can be viewed directly in the web interface.</p> <p></p> <p>If you encounter problems with your data, please read this tutorial on Data Preparation to ensure your data is in the correct format.</p>"},{"location":"getting-started/#quality-control","title":"Quality Control","text":"<p>In this step, we check each variant and exclude it if it meets any of the following criteria:</p> <ol> <li>contains invalid alleles</li> <li>duplicates</li> <li>indels</li> <li>monomorphic sites</li> <li>allele mismatch between reference panel and uploaded data</li> <li>SNP call rate &lt; 90%</li> <li>Strand flips and allele swaps</li> </ol> <p>All filtered variants are listed in a file called <code>statistics.txt</code>, which can be downloaded by clicking the provided link. More information about our QC pipeline can be found here.</p> <p>Important</p> <p>Due to changes in Minimac 4, Michigan Imputation Server 2 now includes filtering and checks for allele swaps. For more information, please click here.</p> <p></p> <p>If you selected a population, we compare the allele frequencies of the uploaded data with those from the reference panel. The results of this check are available in the QC report and can be downloaded by clicking on <code>qcreport.html</code>.</p>"},{"location":"getting-started/#pre-phasing-and-imputation","title":"Pre-phasing and Imputation","text":"<p>Imputation is achieved with Minimac4.</p>"},{"location":"getting-started/#data-compression-and-encryption","title":"Data Compression and Encryption","text":"<p>If imputation is successful, we will compress and encrypt your data and send you a random password via email.</p> <p></p> <p>Password not stored at any time</p> <p>This password is not stored on our server at any time. Therefore, if you lost the password, there is no way to resend it to you.</p>"},{"location":"getting-started/#download-results","title":"Download results","text":"<p>You will be notified by email as soon as the imputation job is complete. A zip archive containing the results can be downloaded directly from the server. To decrypt the results, a one-time password will be generated by the server and included in the email. The QC report and filter statistics are also available for viewing and download.</p> <p></p> <p>All data is deleted automatically after 7 days</p> <p>Be sure to download all required data within this time period. We will send you a reminder 48 hours before your data is deleted. Once your job reaches the retired state, we will not be able to recover your data!</p>"},{"location":"getting-started/#download-via-a-web-browser","title":"Download via a web browser","text":"<p>All results can be downloaded directly through your browser by clicking on the filename.</p> <p></p> <p>To download results via the command line using 'wget' or 'aria2', click on the share symbol (located next to the file size) to obtain the necessary private links.</p> <p></p> <p>A new dialog appears which provides you the private link. Click on the tab wget command to get a copy &amp; paste ready command that can be used on Linux or MacOS to download the file in you terminal:</p>"},{"location":"getting-started/#download-all-results-at-once","title":"Download all results at once","text":"<p>To download all files in a folder (e.g., the folder Imputation Results), click on the share symbol for that folder.</p> <p></p> <p>A new dialog will appear, providing all your private links at once. Click on the wget commands tab to access copy-and-paste-ready commands that can be used on Linux or macOS to download all files.</p>"},{"location":"pipeline/","title":"Pipeline Overview","text":"<p>Our pipeline performs the following steps:</p>"},{"location":"pipeline/#quality-control","title":"Quality Control","text":"<ul> <li>Create chunks of 20 Mb each.</li> <li> <p>For each 20Mb chunk, we perform the following checks:</p> <p>On Chunk level:</p> <ul> <li>Determine the number of valid variants: A variant is considered valid if it is included in the reference panel. At least 3 variants must be included, though some reference panels have different limits (e.g., HRC requires 20 SNPs).</li> <li>Determine amount of variants found in the reference panel: At least 50 % of the variants must be be included in the reference panel.</li> <li>Determine the sample call rate: At least 50% of the variants must be called for each sample.  </li> </ul> <p>Chunk exclusion: if (#variants &lt; 3 || overlap &lt; 50% || sampleCallRate &lt; 50%)</p> <p>On Variant level:</p> <ul> <li>Check alleles: Only A,C,G and T are allowed</li> <li>Calculate alternative allele frequency (AF): Mark all variants with an AF &gt; 0.5.</li> <li>Calculate the SNP call rate</li> <li>Calculate the chi-square for each variant (reference panel vs. study data).</li> <li>Determine allele switches: Compare the reference and alternate alleles of the reference panel with the study data.</li> <li>Determine strand flips: After eliminating possible allele switches, flip and compare the reference and alternate alleles from the reference panel with the study data.</li> <li>Determine allele switches in combination with strand flips: Apply the two rules above together.</li> </ul> <p>Variant exclusion: Variants are excluded in case of: [a] invalid alleles occur (!(A,C,G,T)), [b] duplicates (DUP filter or (pos - 1 == pos)), [c] indels, [d] monomorphic sites, [e] allele mismatch between reference panel and study, [f] SNP call rate &lt; 90%, [g] more than 100 strand or allele switches.</p> <p>On Sample level:</p> <ul> <li>A chunk is excluded if any sample within that chunk has a call rate &lt; 50%. Only complete chunks are excluded, not individual samples (see \u201cOn Chunk Level\u201d above).</li> </ul> </li> <li> <p>Perform a liftOver step if the build of the input data does not match the build of the reference panel (e.g., hg37 vs. hg38).</p> </li> </ul>"},{"location":"pipeline/#phasing","title":"Phasing","text":"<ul> <li>For each chunk, execute one of the following phasing algorithms (using an overlap of 5 Mb). For example, for chr20:1-20,000,000 and reference population EUR:</li> </ul> <p>Eagle2 <pre><code>./eagle \\\n   --vcfRef HRC.r1-1.GRCh37.chr20.shapeit3.mac5.aa.genotypes.bcf \\\n   --vcfTarget chunk_20_0000000001_0020000000.vcf.gz \\\n   --geneticMapFile genetic_map_chr20_combined_b37.txt \\\n   --outPrefix chunk_20_0000000001_0020000000.phased \\\n   --chrom 20 \\\n   --bpStart 1 \\\n   --bpEnd 25000000 \\\n   --allowRefAltSwap \\\n   --vcfOutFormat z \\\n   --keepMissingPloidyX \\\n   --numThreads ${task.cpus} \n</code></pre></p> <p>Target-only sites for unphased data are excluded from the final output.</p>"},{"location":"pipeline/#imputation","title":"Imputation","text":"<ul> <li>For each chunk, execute Minimac to impute the phased data (using a window of 500 kb):</li> </ul> <pre><code>    ./Minimac4 \\\n        --region 20:1-20000000 \\\n        --overlap 500000 \\\n        --output ${chunkfile_name}.dose.vcf.gz \\\n        --output-format vcf.gz \\\n        --format GT,DS,GP \\\n        --min-ratio $minimac_min_ratio \\\n        --all-typed-sites \\\n        --meta \\\n        --min-recom 0.00001 \\\n        --min-r2 0.8 \\\n        --sites out.info.gz \\\n        --empirical-output out.empiricalDose.vcf.gz \\\n        --threads 1 \\\n        --decay 0 \\\n        HRC.r1-1.GRCh38.chr1.shapeit3.mac5.aa.genotypes.msav \\\n        chunk_1_0000000001_0020000000.phased.vcf \n</code></pre>"},{"location":"pipeline/#hla-imputation-pipeline","title":"HLA Imputation Pipeline","text":"<p>In addition to intergenic SNPs, HLA imputation outputs five different types of markers: (1) binary marker for classical HLA alleles; (2) binary marker for the presence/absence of a specific amino acid residue; (3) HLA intragenic SNPs, and (4) binary markers for insertion/deletions, as described in the typical output below. The goal is to minimize prior assumption on which types of variations will be causal and test all types of variations simultaneously in an unbiased fashion. However, the users are always free to restrict analyses to specific marker subsets.</p> <p>Note</p> <p>For binary encodings, A = Absent, T = Present.</p> Type Format Example Classical HLA alleles HLA_[GENE]*[ALLELE] HLA_A*01:02 (two-field allele)  HLA_A*02 (one-field allele) HLA amino acids AA_[GENE]_[AMINO ACID POSITION]_[GENOMIC POSITION]_[EXON]_[RESIDUE] AA_B_97_31324201_exon3_V (amino acid position 97 in HLA-B, genomic position 31324201 (GrCh37) in exon 3, residue = V (Val) ) HLA intragenic SNPs SNPS_[GENE]_[GENE POSITION]_[GENOMIC POSITION]_[EXON/INTRON] SNPS_C_2666_31237183_intron6 (SNP at position 2666 of the gene body, genomic position 31237183 in intron 6) Insertions/deletions INDEL_[TYPE]_[GENE]_[POSITION] INDEL_AA_C_300x301_31237792 Indel between amino acids 300 and 301 in HLA-C, at genomic position 31237792) <p>  We note that our current implementation of the reference panel is limited to the G-group resolution (DNA sequences that determine the exons 2 and 3 for class I and exon 2 for class II genes), and amino acid positions outside the binding groove were taken as its best approximation. When converting G-group alleles to the two-field resolution, we first approximated G-group alleles to their corresponding allele at the four-field resolution based on the ordered allele list in the distributed IPD-IMGT/HLA database (version 3.32.0). We explicitly include exonic information in the HLA-TAPAS output.</p> <p>For more information about HLA imputation and help, please visit https://github.com/immunogenomics/HLA-TAPAS.</p>"},{"location":"pipeline/#compression-and-encryption","title":"Compression and Encryption","text":"<ul> <li>Merge all chunks of a chromosome into one single VCF file (.vcf.gz).</li> <li>Encrypt the data with a one-time password</li> </ul>"},{"location":"pipeline/#chromosome-x-pipeline","title":"Chromosome X Pipeline","text":"<p>In addition to the standard QC, the following per-sample checks are performed for chrX:</p> <ul> <li>Ploidy Check: Verifies if all variants in the non-PAR region are either haploid or diploid.</li> <li>Mixed Genotypes Check: Verifies if the proportion of mixed genotypes (e.g., 1/.) is &lt; 10%.</li> </ul> <p>For phasing and imputation, chrX is divided into three independent chunks (PAR1, non-PAR, PAR2). These chunks are then automatically merged by the Michigan Imputation Server 2 and returned as a single complete chromosome X file. </p>"},{"location":"prepare-your-data/","title":"Data preparation","text":"<p>Michigan Imputation Server 2 accepts VCF files compressed with bgzip. Please ensure that the following requirements are met:</p> <ul> <li>Create a separate vcf.gz file for each chromosome.</li> <li>Variants must be sorted by genomic position.</li> <li>GRCh37 or GRCh38 coordinates are required.</li> </ul> <p>Note</p> <p>Multiple *.vcf.gz files can be uploaded at once.</p>"},{"location":"prepare-your-data/#quality-control-for-hrc-1000g-and-caapa-imputation","title":"Quality Control for HRC, 1000G and CAAPA imputation","text":"<p>Will Rayner provides an excellent toolbox for preparing data: HRC or 1000G Pre-imputation Checks.</p> <p>The main steps for using HRC are:</p>"},{"location":"prepare-your-data/#download-tool-and-sites","title":"Download tool and sites","text":"<pre><code>wget http://www.well.ox.ac.uk/~wrayner/tools/HRC-1000G-check-bim-v4.2.7.zip\nwget ftp://ngs.sanger.ac.uk/production/hrc/HRC.r1-1/HRC.r1-1.GRCh37.wgs.mac5.sites.tab.gz\n</code></pre>"},{"location":"prepare-your-data/#convert-pedmap-to-bed","title":"Convert ped/map to bed","text":"<pre><code>plink --file &lt;input-file&gt; --make-bed --out &lt;output-file&gt;\n</code></pre>"},{"location":"prepare-your-data/#create-a-frequency-file","title":"Create a frequency file","text":"<pre><code>plink --freq --bfile &lt;input&gt; --out &lt;freq-file&gt;\n</code></pre>"},{"location":"prepare-your-data/#execute-script","title":"Execute script","text":"<pre><code>perl HRC-1000G-check-bim.pl -b &lt;bim file&gt; -f &lt;freq-file&gt; -r HRC.r1-1.GRCh37.wgs.mac5.sites.tab -h\nsh Run-plink.sh\n</code></pre>"},{"location":"prepare-your-data/#create-vcf-using-vcfcooker","title":"Create vcf using VcfCooker","text":"<pre><code>vcfCooker --in-bfile &lt;bim file&gt; --ref &lt;reference.fasta&gt;  --out &lt;output-vcf&gt; --write-vcf\nbgzip &lt;output-vcf&gt;\n</code></pre>"},{"location":"prepare-your-data/#additional-tools","title":"Additional Tools","text":""},{"location":"prepare-your-data/#convert-pedmap-files-to-vcf-files","title":"Convert ped/map files to VCF files","text":"<p>Several tools are available:  plink2,  BCFtools or VcfCooker.  </p> <pre><code>plink --ped study_chr1.ped --map study_chr1.map --recode vcf --out study_chr1\n</code></pre> <p>Create a sorted vcf.gz file using bcftools:</p> <pre><code>bcftools sort study_chr1.vcf -Oz -o study_chr1.vcf.gz\n</code></pre>"},{"location":"prepare-your-data/#checkvcf","title":"CheckVCF","text":"<p>Use checkVCF to ensure that the VCF files are valid. CheckVCF provides \u201cAction Items\u201d (e.g., uploading to an SFTP server) that can be ignored. Focus solely on verifying the validity of the files with this tool.</p> <pre><code>checkVCF.py -r human_g1k_v37.fasta -o out mystudy_chr1.vcf.gz\n</code></pre>"},{"location":"qc-allele-swaps/","title":"Changes in Allele Swaps Handling in Imputation Server 2.0","text":"<p>With the update to the latest Minimac4 version, we have modified the default handling of allele swaps in Michigan Imputation Server 2. </p>"},{"location":"qc-allele-swaps/#overview-of-changes","title":"Overview of Changes","text":"<p>In previous versions of the server, swapped reference and alternate alleles were automatically corrected, with only ambiguous SNPs being filtered out. To improve genotype quality and avoid errors from incorrectly genotyped variants, the handling of allele swaps has now been updated.</p>"},{"location":"qc-allele-swaps/#key-changes","title":"Key Changes","text":"<ul> <li>Previous Behavior: Allele swaps were automatically corrected, with only ambiguous SNPs being filtered out.</li> <li>New Behavior: With the update, the server now enforces stricter quality control. The system allows up to 100 allele swaps during processing. If more than 100 allele swaps are detected, the quality control process will fail, stopping the imputation process to prevent poor genotype quality.</li> </ul>"},{"location":"qc-allele-swaps/#impact-on-data-submissions","title":"Impact on Data Submissions","text":"<p>This update may cause failures in submissions that were previously accepted but now exceed the 100-allele swap threshold.</p>"},{"location":"qc-allele-swaps/#recommendations","title":"Recommendations","text":"<p>To avoid imputation quality issues and ensure your data meets the new allele swaps threshold:</p> <ul> <li> <p>We recommend using tools such as Will Rayner\u2019s tool to check for and correct allele switches in your dataset.</p> </li> <li> <p>This will ensure that issues such as strand or allele flips are resolved before submission, helping your data meet the new quality standards.</p> </li> </ul> <p>Please follow these steps to verify your data before submitting it to Imputation Server 2.</p>"},{"location":"reference-panels/","title":"Reference Panels","text":"<p>Our server offers imputation from the following reference panels:</p>"},{"location":"reference-panels/#hrc-version-r11-2016","title":"HRC (Version r1.1 2016)","text":"<p>The HRC panel consists of 64,940 haplotypes of predominantly European ancestry.</p> Number of Samples 32,470 Sites (chr1-22) 39,635,008 Chromosomes 1-22, X Website http://www.haplotype-reference-consortium.org; HRC r1.1 Release Note"},{"location":"reference-panels/#1000-genomes-phase-3-version-5","title":"1000 Genomes Phase 3 (Version 5)","text":"<p>Phase 3 of the 1000 Genomes Project consists of 5,008 haplotypes from 26 populations across the world.</p> Number of Samples 2,504 Sites (chr1-22) 49,143,605 Chromosomes 1-22, X Website http://www.internationalgenome.org"},{"location":"reference-panels/#genome-asia-pilot-gasp","title":"Genome Asia Pilot - GAsP","text":"Number of Samples 1,654 Sites (chr1-22) 21,494,814 Chromosomes 1-22 Publication https://www.nature.com/articles/s41586-019-1793-z"},{"location":"reference-panels/#genome-asia-v2-gasp","title":"Genome Asia v2 - GAsP","text":"Number of Samples 6,461 Sites (chr1-22) - Chromosomes 1-22 Publication https://www.nature.com/articles/s41586-019-1793-z"},{"location":"reference-panels/#four-digit-multi-ethnic-hla-v1-2021","title":"Four-digit Multi-ethnic HLA v1 (2021)","text":"<p>The multi-ethnic HLA panel consists of 36,586 haplotypes of five global populations. We have released the panel at both two-field (four-digit) and G-group resolution.</p> Number of Samples 18,293 Sites (chr6) 56,310 (1,781 HLA alleles; 4,513 HLA amino acids; 10,924 SNPs within HLA; 39,092 scaffold SNPs) Chromosomes 6:28,000,000-34,000,000 Website https://github.com/immunogenomics/HLA-TAPAS/ <p>Please cite this manuscript if you would like to include imputed results from the panel in  your work:</p> <p>Luo, Y., Kanai, M., Choi, W., Li, X., Yamamoto, K., Ogawa, K., Gutierrez-Arcelus, M., Gregersen, P. K., Stuart, P. E., Elder, J. T., Fellay, J., Carrington, M., Haas, D. W., Guo, X., Palmer, N. D., Chen, Y.-D. I., Rotter, J. I., Taylor, K. D., Rich, S., \u2026 Raychaudhuri, S. (2020). A high-resolution HLA reference panel capturing global population diversity enables multi-ethnic fine-mapping in HIV host response. https://doi.org/10.1101/2020.07.16.20155606</p>"},{"location":"reference-panels/#four-digit-multi-ethnic-hla-v2-2022","title":"Four-digit Multi-ethnic HLA v2 (2022)","text":"Number of Samples 20,349 Sites (chr6) 22,733 (570 HLA alleles; 3,449 HLA amino acids; 4,023 SNPs within HLA; 14,691 scaffold SNPs) Chromosomes 6:27,970,031-33,965,553 Website https://github.com/immunogenomics/HLA-TAPAS/"},{"location":"reference-panels/#multi-ethnic-hla-v2-details","title":"Multi-ethnic HLA v2 Details","text":"<p>Samples:</p> <ul> <li>We added Japanese samples with HLA alleles called with deep target sequencing (n = 723; Hirata et al. Nat Genet. 2019).</li> <li>Add Estonian biobank samples with IRB approval (n = 2,233; Mitt et al. Eur J Hum Genet. 2017).</li> </ul> <p>HLA alleles:</p> <ul> <li>We used gold-standard HLA allele calls (instead of inferred calls from whole genome sequencing) when possible.</li> <li>We updated and recalled HLA alleles using HLA-LA (Dilthey et al. Bioinformatics. 2019) in Jackson Heart Study (n = 3,026).</li> <li>We updated and recalled HLA alleles using HLA-LA in Estonian Biobank (n = 2,233).</li> </ul> <p>Scaffold variants:</p> <ul> <li>We added population-specific SNP variants which are common in one population but rare in the other populations when they are in 1KG and pass QC, by cross-cohort SNP imputation within the reference panel.</li> <li>We removed all SNP variants that are not included in the commonly-used genotyping arrays.</li> </ul> <p>Minimac4 options:</p> <ul> <li>We optimized <code>--probThreshold</code>, <code>--diffThreshold</code>, <code>--topThreshold</code> parameters in minimac4. Optimized parameters are now used for all HLA panels.</li> </ul> <p>Imputation results:</p> <ul> <li>We output 2-digit and 4-digit-resolution HLA alleles. We do not output higher resolution HLA alleles in this version.</li> </ul>"},{"location":"reference-panels/#caapa-african-american-panel","title":"CAAPA - African American Panel","text":"<p>Whole genome sequences were available on 883 individuals from 19 case-control studies of asthma included in the Consortium on Asthma among African-ancestry Populations in the Americas (CAAPA) and were used to summarize the genomic contributions to individuals of African ancestry.</p> Number of Samples 883 Sites (chr1-22) 31,163,897 Chromosomes 1-22 Website http://www.caapa-project.org/. Further details can also be found here"},{"location":"reference-panels/#hrc-version-r1-2015","title":"HRC (Version r1 2015)","text":"<p>This HRC panel consists of 64,976 haplotypes of predominantly European ancestry.</p> Number of Samples 32,488 Sites (chr1-22) 39,741,659 Chromosomes 1-22, X Website http://www.haplotype-reference-consortium.org; HRC r1 Release Note"},{"location":"reference-panels/#1000-genomes-phase-1-version-3","title":"1000 Genomes Phase 1 (Version 3)","text":"Number of Samples 1,092 Sites (chr1-22) 28,975,367 Chromosomes 1-22, X Website http://www.internationalgenome.org"},{"location":"reference-panels/#hapmap-2","title":"HapMap 2","text":"Number of Samples 60 Sites (chr1-22) 2,542,916 Chromosomes 1-22 Website: http://www.hapmap.org"},{"location":"resources/","title":"Resources","text":""},{"location":"resources/#polygenic-risk-score-calculation","title":"Polygenic Risk Score calculation","text":"<p>Learn in this tutorial how to use the Imputation Server to calculate over 3,000 polygenic risk scores on the fly.</p> <p>Learn more</p>"},{"location":"resources/#automate-job-submission-using-imputationbot","title":"Automate job submission using Imputationbot","text":"<p>Imputation Bot provides an automate way to submit new jobs and to download results.</p> <p>Learn more</p>"},{"location":"resources/#automate-job-sumission-using-the-rest-api","title":"Automate job sumission using the REST API","text":"<p>The REST APIs provide programmatic ways to submit new jobs and to download data from Michigan Imputation Server. It identifies users using authentication tokens, responses are provided in JSON format.</p> <p>Learn more</p>"},{"location":"resources/#build-your-own-imputationserver","title":"Build your own Imputationserver","text":"<p>All the core is open source. If you have interest to build and host your own Imputationserver, please follow the instrocution of the Imputationserver2 pipeline here. </p>"},{"location":"resources/#workshops","title":"Workshops","text":"<ul> <li>ASHG 2023</li> <li>ASHG 2022</li> <li>ASHG 2020</li> </ul>"},{"location":"pgs/faq/","title":"Frequently Asked Questions","text":""},{"location":"pgs/faq/#can-i-use-the-polygenic-score-calculation-extension-without-an-email-address","title":"Can I use the Polygenic Score Calculation extension without an email address?","text":"<p>Yes, the extension can also be used with a username without an email. However, without an email, notifications are not sent, and access to genotyped data may be limited.</p>"},{"location":"pgs/faq/#extending-expiration-date-or-reset-download-counter","title":"Extending expiration date or reset download counter","text":"<p>Your data is available for 7 days. In case you need an extension, please let us know.</p>"},{"location":"pgs/faq/#how-can-i-improve-the-download-speed","title":"How can I improve the download speed?","text":"<p>aria2 tries to utilize your maximum download bandwidth. Please keep in mind to raise the k parameter significantly (-k, --min-split-size=SIZE). You will otherwise hit the Michigan Imputation Server download limit for each file (thanks to Anthony Marcketta for point this out).</p>"},{"location":"pgs/faq/#can-i-download-all-results-at-once","title":"Can I download all results at once?","text":"<p>We provide wget command for all results. Please open the results tab. The last column in each row includes direct links to all files.</p>"},{"location":"pgs/faq/#can-i-perform-pgs-calculation-locally","title":"Can I perform PGS calculation locally?","text":"<p>Imputationserveris using a standalone tool called pgs-calc. It reads the imputed dosages from VCF files and uses them to calculate scores. It supports imputed genotypes from Michigan Imputation Server or TOPMed Imputation Server out of the box and score files from PGS Catalog or PRSWeb instances. In addition, own created score files containing chromosomal positions, both alleles and the effect size can be used easily. pgs-calc uses the chromosomal positions and alleles to find the corresponding dosages in genotype files, but provides also tools to resolve rsIDs in score files using dbSNP. Therefore, it can be applied to genotype files with variants that were not annotated with rsIDs. Moreover, the standalone version provides options to improve the coverage by using the provided proxy mapping file for Europeans or a custom population specific mapping file. pgs-calc is available at https://github.com/lukfor/pgs-calc.</p>"},{"location":"pgs/getting-started/","title":"Polygenic Score Calculation","text":"<p>We provide an easy to use and user-friendly web interface to apply thousands of published polygenic risk scores to imputed genotypes in an efficient way. By extending the popular Michigan Imputation Server the module integrates it seamless into the existing imputation workflow and enables users without knowledge in that field to take advantage of this method. The graphical report includes all meta-data about the scores in a single place and helps users to understand and screen thousands of scores in an easy and intuitive way.</p> <p></p> <p>An extensive quality control pipeline is executed automatically to detect and fix possible strand-flips and to filter out missing SNPs to prevent systematic errors (e.g. lower scores for individuals with missing or wrong aligned genetic data).</p> <p>When incorporating the Polygenic Score Calculation extension in your research, please cite the following papers:</p> <p>Forer L, Taliun D, LeFaive J, Smith AV, Boughton AP, Coassin S, Lamina C, Kronenberg F, Fuchsberger C, Sch\u00f6nherr S. Imputation Server PGS: an automated approach to calculate polygenic risk scores on imputation servers. Nucleic Acids Res. 2024 Jul 5;52(W1):W70-W77. doi: 10.1093/nar/gkae331. PMID: 38709879; PMCID: PMC11223871.</p> <p>Samuel A. Lambert, Laurent Gil, Simon Jupp, Scott C. Ritchie, Yu Xu, Annalisa Buniello, Aoife McMahon, Gad Abraham, Michael Chapman, Helen Parkinson, John Danesh, Jacqueline A. L. MacArthur and Michael Inouye. The Polygenic Score Catalog as an open database for reproducibility and systematic evaluation. Nature Genetics. doi: 10.1038/s41588-021-00783-5 (2021).</p>"},{"location":"pgs/getting-started/#getting-started","title":"Getting started","text":"<p>To utilize the Polygenic Score Calculation extension on ImputationServer, you must first register for an account. An activation email will be sent to the provided address. Once your email address is verified, you can access the service at no cost.</p> <p>Please note that the extension can also be used with a username without an email. However, without an email, notifications are not sent, and access to genotyped data may be limited.</p> <p>No dataset at hand? No problem, download our example dataset to test the PGS extension: 50-samples.zip.</p>"},{"location":"pgs/getting-started/#setting-up-your-first-polygenic-score-calculation-job","title":"Setting up your first Polygenic Score Calculation job","text":"<ol> <li>Log in with your credentials and navigate to the Run tab to initiate a new Polygenic Score Calculation job.</li> <li>Please click on \"Polygenic Score Calculation\" and the submission dialog appears.</li> <li>The submission dialog allows you to specify job properties.</li> </ol> <p>The following options are available:</p>"},{"location":"pgs/getting-started/#reference-panel","title":"Reference Panel","text":"<p>Our PGS extension offers genotype imputation from different reference panels. The most accurate and largest panel is HRC (Version r1.1 2016). Please select one that fulfills your needs and supports the population of your input data:</p> <ul> <li>HRC (Version r1.1 2016)</li> <li>1000 Genomes Phase 3 (Version 5)</li> <li>1000 Genomes Phase 1 (Version 3)</li> <li>HapMap 2</li> </ul> <p>More details about all available reference panels can be found here. If you are unsure which reference panel to use, the \"1000 Genomes Phase 3 (Version 5)\" reference panel is multi-ancestry and has high coverage with available scores. However, if your uploaded data is European only, the HRC reference panel could be the better choice, as it enables the imputation of rare European-specific variants.</p>"},{"location":"pgs/getting-started/#upload-vcf-files-from-your-computer","title":"Upload VCF files from your computer","text":"<p>When using the file upload, data is uploaded from your local file system to Michigan Imputation Server. By clicking on Select Files an open dialog appears where you can select your VCF files:</p> <p></p> <p>Multiple files can be selected using the <code>ctrl</code>, <code>cmd</code> or <code>shift</code> keys, depending on your operating system. After you have confirmed your choice, all selected files are listed in the submission dialog:</p> <p></p> <p>Please make sure that all files fulfill the requirements.</p> <p>Important</p> <p>Since version 1.7.2 URL-based uploads (sftp and http) are no longer supported. Please use direct file uploads instead.</p>"},{"location":"pgs/getting-started/#rsq-filter","title":"rsq Filter","text":"<p>The filter ensures that only variants with an imputation quality (rsq) greater than the specified value are included in the polygenic risk score calculation. Setting the value to 0 disables the filter. Default value: 0.3.</p>"},{"location":"pgs/getting-started/#build","title":"Build","text":"<p>Please select the build of your data. Currently the options hg19 and hg38 are supported. Michigan Imputation Server automatically updates the genome positions (liftOver) of your data. All reference panels are based on hg19 coordinates.</p>"},{"location":"pgs/getting-started/#scores-and-trait-category","title":"Scores and Trait Category","text":"<p>Choose the precomputed Polygenic Score repository relevant to your study from the available options. Based on the selected repository, different trait categories appear and can be selected (e.g. Cancer scores):</p> <p></p> <p>More details about all available PGS repositories can be found here.</p>"},{"location":"pgs/getting-started/#ancestry-estimation","title":"Ancestry Estimation","text":"<p>You can enable ancestry estimation by selecting a reference population used to classify your uploaded samples. Currently, we support a worldwide panel based on HGDP.</p>"},{"location":"pgs/getting-started/#start-polygenic-score-calculation","title":"Start Polygenic Score Calculation","text":"<p>After agreeing to the Terms of Service, initiate the calculation by clicking on Submit job. The system will perform Input Validation and Quality Control immediately. If your data passes these steps, the job is added to the queue for processing.</p> <p></p>"},{"location":"pgs/getting-started/#monitoring-and-retrieving-results","title":"Monitoring and Retrieving Results","text":"<ul> <li>Input Validation: Verify the validity of your uploaded files and review basic statistics.</li> </ul> <ul> <li>Quality Control: Examine the QC report and download statistics after the system filters variants based on various criteria.</li> </ul> <ul> <li>Polygenic Score Calculation: Monitor the progress of the imputation and polygenic scores calculation in real time for each chromosome.</li> </ul>"},{"location":"pgs/getting-started/#downloading-results","title":"Downloading Results","text":"<p>Upon completion, you will be notified by email if you enter your address on registration. A zip archive containing results can be downloaded directly from the server.</p> <p></p> <p>Click on the filename to download results directly via a web-browser. For command line downloads, use the share symbol to obtain private links.</p> <p>Important: All data is automatically deleted after 7 days. Download needed data within this timeframe. A reminder is sent 48 hours before data deletion.</p>"},{"location":"pgs/output-files/","title":"Output Files","text":"<p>The Polygenic Score Calculation Results CSV file provides Polygenic Score (PGS) values for different samples and associated identifiers.  Users can leverage this CSV file to analyze and compare Polygenic Score values across different samples. The data facilitates the investigation of genetic associations and their impact on specific traits or conditions.</p>"},{"location":"pgs/output-files/#csv-format","title":"CSV Format","text":"<p>The CSV file consists of a header row and data rows:</p>"},{"location":"pgs/output-files/#header-row","title":"Header Row","text":"<ul> <li>sample: Represents the identifier for each sample.</li> <li>PGS000001, PGS000002, PGS000003, ...: Columns representing different Polygenic Score values associated with the respective identifiers.</li> </ul>"},{"location":"pgs/output-files/#data-rows","title":"Data Rows","text":"<ul> <li>Each row corresponds to a sample and provides the following information:<ul> <li>sample: Identifier for the sample.</li> <li>PGS000001, PGS000002, PGS000003, ...: Polygenic Score values associated with the respective identifiers for the given sample.</li> </ul> </li> </ul>"},{"location":"pgs/output-files/#example","title":"Example","text":"<p>Here's an example row:</p> <pre><code>sample, PGS000001, PGS000002, PGS000003, ...\nsample1, -4.485780284301654, 4.119604924228042, 0.0, -4.485780284301654\n</code></pre> <ul> <li>sample1: Sample identifier.<ul> <li>-4.485780284301654: Polygenic Score value for <code>PGS000001</code>.</li> <li>4.119604924228042: Polygenic Score value for <code>PGS000002</code>.</li> <li>0.0: Polygenic Score value for <code>PGS000003</code>.</li> </ul> </li> </ul> <p>Note:</p> <ul> <li>Polygenic Score values are provided as floating-point numbers.</li> <li>The absence of values (e.g., <code>0.0</code>) indicates a lack of Polygenic Score information for a particular identifier in a given sample.</li> </ul>"},{"location":"pgs/pipeline/","title":"Pipeline","text":""},{"location":"pgs/pipeline/#ancestry-estimation","title":"Ancestry estimation","text":"<p>We use LASER to perform principal components analysis (PCA) based on the genotypes of each sample and to place them into a reference PCA space which was constructed using a set of reference individuals [14]. We built reference coordinates based on 938 samples from the Human Genome Diversity Project (HGDP) [15] and labeled them by the ancestry categories proposed by the GWASCatalog [16] which are also used in PGS Catalog. </p>"},{"location":"pgs/report/","title":"Interactive Report","text":"<p>The created report contains a list of all scores, where each score has a different color based on its coverage. The color green indicates that the coverage is very high and nearly all SNPs from the score were also found in the imputed dataset. The color red indicates that very few SNPs were found and the coverage is therefore low.</p> <p></p> <p>In addition, the report includes detailed metadata for each score such as the number of variants, the number of well-imputed genotypes and the population used to construct the score. A direct link to PGS Catalog, Cancer PRSWeb or ExPRSWeb is also available for further investigation (e.g. for getting information about the method that was used to construct the score). Further, the report displays the distribution of the scores of all uploaded samples and can be interactively explored. This allows users to detect samples with either a high or low risk immediately.</p> <p>Moreover, the report gives an overview of all estimated ancestries from the uploaded genotypes and compares them with the populations of the GWAS that was used to create the score.</p> <p></p> <p>If an uploaded sample with an unsupported population is detected, a warning message is provided and the sample is excluded from the summary statistics. </p>"},{"location":"pgs/scores/","title":"Scores","text":"<p>We support currently the following PGS repositories out of the box:</p>"},{"location":"pgs/scores/#pgs-catalog","title":"PGS-Catalog","text":"<p>We use PGS Catalog as the source of scores for PGS Server (version 19. Jan 2023). the PGS Catalog is an online database that collects and annotates published scores and currently provides access to over 3,900 scores encompassing more than 580 traits.</p> <p>Samuel A. Lambert, Laurent Gil, Simon Jupp, Scott C. Ritchie, Yu Xu, Annalisa Buniello, Aoife McMahon, Gad Abraham, Michael Chapman, Helen Parkinson, John Danesh, Jacqueline A. L. MacArthur and Michael Inouye. The Polygenic Score Catalog as an open database for reproducibility and systematic evaluation. Nature Genetics. doi: 10.1038/s41588-021-00783-5 (2021).</p>"},{"location":"pgs/scores/#cancer-prsweb","title":"Cancer-PRSweb","text":"<p>Collection of scores for major cancer traits.</p> <p>Fritsche LG, Patil S, Beesley LJ, VandeHaar P, Salvatore M, Ma Y, Peng RB, Taliun D, Zhou X, Mukherjee B: Cancer PRSweb: An Online Repository with Polygenic Risk Scores for Major Cancer Traits and Their Evaluation in Two Independent Biobanks. Am J Hum Genet 2020, 107(5):815-836.</p>"},{"location":"pgs/scores/#exprsweb","title":"ExPRSweb","text":"<p>Collection of scores for common health-related exposures like body mass index or alcohol consumption.</p> <p>Ma Y, Patil S, Zhou X, Mukherjee B, Fritsche LG: ExPRSweb: An online repository with polygenic risk scores for common health-related exposures. Am J Hum Genet 2022, 109(10):1742-1760.</p>"},{"location":"pgs/tutorial/","title":"Testing Imputationserver PGS: Step by Step","text":"<p>To test Imputationserver PGS, please execute the following steps:</p> <p>0. Signup and create a login:</p> <p>Imputationserver PGS requires a login to access the Polygenic Risk Score (PGS) calculation service. This login is crucial to maintain the security and privacy of any uploaded human genotype data.</p> <p>Users have the flexibility to create this login either with or without providing an email address.  Please visit the signup page and proceed to create a login.</p> <p>1. Download the Example Dataset: Start by downloading the example dataset provided for testing the PGS extension. You can obtain the dataset by clicking on the following link: 50-samples.zip.</p> <p>2. Unpack the Data: After downloading the zip file, unzip or extract its contents to a location of your choice on your computer.</p> <p>3. Access Polygenic Risk Score Application: Navigate to the \"Run\" menu and select \"Polygenic Risk Score\" from the options.</p> <p>4. Choose 1000 Genomes Phase 3 Panel: In the Polygenic Risk Score application, select the \"1000 Genomes Phase 3\" panel as the reference dataset for imputation.</p> <p>5. Specify PGS Catalog and Trait: Identify and specify the Polygenic Score (PGS) Catalog you want to use for scoring. Choose a relevant trait for the analysis, such as \"Cancer\".</p> <p>6. Optional Ancestry Estimation: Optionally, you can choose to include ancestry estimation in your analysis. This step may enhance the precision and interpreation of the results.</p> <p>7. Agree to Terms of Service: Before proceeding, make sure to read and agree to the Terms of Service provided by Imputationserver. It is essential to comply with the platform's terms and conditions.</p> <p>8. Submit the Job: After configuring all the necessary parameters, click on the \"Submit\" button to initiate the PGS calculation.</p> <p>9. Monitor Progress: Depending on the server load, the calculation may take a certain amount of time (about 30 minutes). Allow the process to complete.</p> <p>10. Download Results: Once the calculation is finished, you can view the results provided by Imputationserver PGS and download a report and all calcuated scores.</p> <p>Congratulations! You have successfully tested Imputationserver PGS using the provided example dataset and configuration settings. Now you are ready to use the service with yout own dataset!</p>"},{"location":"tutorials/api/","title":"API Reference","text":"<p>The REST APIs provide programmatic ways to submit new jobs and to download data from Michigan Imputation Server. It identifies users using authentication tokens, responses are provided in JSON format.</p>"},{"location":"tutorials/api/#authentication","title":"Authentication","text":"<p>Michigan Imputation Server uses a token-based authentication. The token is required for all future interaction with the server. The token can be created and downloaded from your user profile (username -&gt; Profile):</p> <p></p> <p>For security reasons, Api Tokens are valid for 30 days. You can check the status in the web interface.</p>"},{"location":"tutorials/api/#job-submission-for-whole-genome-imputation","title":"Job Submission for Whole Genome Imputation","text":"<p>The API allows to submit imputation jobs and to set several parameters. For HLA imputation, please see below. </p>"},{"location":"tutorials/api/#post-jobssubmitminimac4","title":"POST /jobs/submit/minimac4","text":"<p>The following parameters can be set:</p> Parameter Values Default Value Required files /path/to/file x mode <code>qconly</code> <code>phasing</code> <code>imputation</code> <code>imputation</code> password user-defined password auto generated and send by mail refpanel <code>hrc-r1.1</code> <code>1000g-phase-3-v5</code> <code>gasp-v2</code> <code>genome-asia-panel</code> <code>1000g-phase-1</code> <code>cappa</code> <code>hapmap-2</code> - x phasing <code>eagle</code> <code>no_phasing</code> <code>eagle</code> population <code>eur</code> <code>afr</code> <code>asn</code> <code>amr</code> <code>sas</code> <code>eas</code> <code>AA</code> <code>mixed</code> <code>all</code> - x build <code>hg19</code> <code>hg38</code> <code>hg19</code> r2Filter <code>0</code> <code>0.001</code> <code>0.1</code> <code>0.2</code> <code>0.3</code> <code>0</code>"},{"location":"tutorials/api/#job-submission-for-hla-imputation","title":"Job Submission for HLA Imputation","text":"<p>The API also allows to submit imputation jobs using the HLA application. Please note, that the population parameter can be skipped here. </p>"},{"location":"tutorials/api/#post-jobssubmitimputationserver-hla","title":"POST /jobs/submit/imputationserver-hla","text":"<p>The following parameters can be set:</p> Parameter Values Default Value Required files /path/to/file x mode <code>qconly</code> <code>phasing</code> <code>imputation</code> <code>imputation</code> password user-defined password auto generated and send by mail refpanel <code>multiethnic-hla-panel-Ggroup</code> <code>multiethnic-hla-panel-4digit</code> - x phasing <code>eagle</code> <code>no_phasing</code> <code>eagle</code> build <code>hg19</code> <code>hg38</code> <code>hg19</code> r2Filter <code>0</code> <code>0.001</code> <code>0.1</code> <code>0.2</code> <code>0.3</code> <code>0</code>"},{"location":"tutorials/api/#examples-curl","title":"Examples: curl","text":""},{"location":"tutorials/api/#submit-a-single-file","title":"Submit a single file","text":"<p>To submit a job please change <code>/path-to/file.vcf.gz</code> to a valid vcf file and update <code>TOKEN</code> with your API Token:</p> <p>Command:</p> <pre><code>TOKEN=\"YOUR-API-TOKEN\";\n\ncurl https://imputationserver.sph.umich.edu/api/v2/jobs/submit/minimac4 \\\n  -H \"X-Auth-Token: $TOKEN\" \\\n  -F \"files=@/path-to/file.vcf.gz\" \\\n  -F \"refpanel=1000g-phase-3-v5\" \\\n  -F \"population=eur\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"id\":\"job-20160504-161420\",\n  \"message\":\"Your job was successfully added to the job queue.\",\n  \"success\":true\n}\n</code></pre>"},{"location":"tutorials/api/#submit-multiple-files","title":"Submit multiple files","text":"<p>Submits multiple vcf files and impute against 1000 Genomes Phase 3 reference panel.</p> <p>Command:</p> <pre><code>TOKEN=\"YOUR-API-TOKEN\";\n\ncurl https://imputationserver.sph.umich.edu/api/v2/jobs/submit/minimac4 \\\n  -H \"X-Auth-Token: $TOKEN\" \\\n  -F \"files=@/path-to/file1.vcf.gz\" \\\n  -F \"files=@/path-to/file2.vcf.gz\" \\\n  -F \"refpanel=1000g-phase-3-v5\" \\\n  -F \"population=eur\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"id\":\"job-20120504-155023\",\n  \"message\":\"Your job was successfully added to the job queue.\",\n  \"success\":true\n}\n</code></pre>"},{"location":"tutorials/api/#submit-file-from-a-https","title":"Submit file from a HTTP(S)","text":"<p>Submits files from https with HRC reference panel and quality control.</p> <p>Command:</p> <pre><code>TOKEN=\"YOUR-API-TOKEN\";\n\ncurl  https://imputationserver.sph.umich.edu/api/v2/jobs/submit/minimac4 \\\n  -H \"X-Auth-Token: $TOKEN\" \\\n  -F \"files=https://imputationserver.sph.umich.edu/static/downloads/hapmap300.chr1.recode.vcf.gz\" \\\n  -F \"files-source=http\" \\\n  -F \"refpanel=hrc-r1.1\" \\\n  -F \"population=eur\" \\\n  -F \"mode=qconly\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"id\":\"job-20120504-155023\",\n  \"message\":\"Your job was successfully added to the job queue.\",\n  \"success\":true\n}\n</code></pre>"},{"location":"tutorials/api/#examples-python","title":"Examples: Python","text":""},{"location":"tutorials/api/#submit-single-vcf-file","title":"Submit single vcf file","text":"<pre><code>import requests\nimport json\n\n# imputation server url\nurl = 'https://imputationserver.sph.umich.edu/api/v2'\ntoken = 'YOUR-API-TOKEN';\n\n# add token to header (see Authentication)\nheaders = {'X-Auth-Token' : token }\ndata = {\n  'refpanel': '1000g-phase-3-v5',\n  'population': 'eur'\n}\n\n# submit new job\nvcf = '/path/to/genome.vcf.gz';\nfiles = {'files' : open(vcf, 'rb')}\nr = requests.post(url + \"/jobs/submit/minimac4\", files=files, data=data, headers=headers)\nif r.status_code != 200:\n  print(r.json()['message'])\n  raise Exception('POST /jobs/submit/minimac4 {}'.format(r.status_code))\n\n# print response and job id\nprint(r.json()['message'])\nprint(r.json()['id'])\n</code></pre>"},{"location":"tutorials/api/#submit-multiple-vcf-files","title":"Submit multiple vcf files","text":"<pre><code>import requests\nimport json\n\n# imputation server url\nurl = 'https://imputationserver.sph.umich.edu/api/v2'\ntoken = 'YOUR-API-TOKEN';\n\n# add token to header (see Authentication)\nheaders = {'X-Auth-Token' : token }\ndata = {\n  'refpanel': '1000g-phase-3-v5',\n  'population': 'eur'\n}\n\n# submit new job\nvcf = '/path/to/file1.vcf.gz';\nvcf1 = '/path/to/file2.vcf.gz';\nfiles = [('files', open(vcf, 'rb')), ('files', open(vcf1, 'rb'))]\nr = requests.post(url + \"/jobs/submit/minimac4\", files=files, data=data, headers=headers)\nif r.status_code != 200:\n  print(r.json()['message'])\n  raise Exception('POST /jobs/submit/minimac4 {}'.format(r.status_code))\n\n# print message\nprint(r.json()['message'])\nprint(r.json()['id'])\n</code></pre>"},{"location":"tutorials/api/#list-all-jobs","title":"List all jobs","text":"<p>All running jobs can be returned as JSON objects at once.</p>"},{"location":"tutorials/api/#get-jobs","title":"GET /jobs","text":""},{"location":"tutorials/api/#examples-curl_1","title":"Examples: curl","text":"<p>Command:</p> <pre><code>TOKEN=\"YOUR-API-TOKEN\";\n\ncurl -H \"X-Auth-Token: $TOKEN\" https://imputationserver.sph.umich.edu/api/v2/jobs\n</code></pre> <p>Response:</p> <pre><code>[\n  {\n    \"applicationId\":\"minimac\",\n    \"executionTime\":0,\n    \"id\":\"job-20160504-155023\",\n    \"name\":\"job-20160504-155023\",\n    \"positionInQueue\":0,\n    \"running\":false,\n    \"state\":5\n  },{\n    \"applicationId\":\"minimac\",\n    \"executionTime\":0,\n    \"id\":\"job-20160420-145809\",\n    \"name\":\"job-20160420-145809\",\n    \"positionInQueue\":0,\n    \"running\":false,\n    \"state\":5\n  },{\n    \"applicationId\":\"minimac\",\n    \"executionTime\":0,\n    \"id\":\"job-20160420-145756\",\n    \"name\":\"job-20160420-145756\",\n    \"positionInQueue\":0,\n    \"running\":false,\n    \"state\":5\n  }\n]\n</code></pre>"},{"location":"tutorials/api/#example-python","title":"Example: Python","text":"<pre><code>import requests\nimport json\n\n# imputation server url\nurl = 'https://imputationserver.sph.umich.edu/api/v2'\ntoken = 'YOUR-API-TOKEN';\n\n# add token to header (see authentication)\nheaders = {'X-Auth-Token' : token }\n\n# get all jobs\nr = requests.get(url + \"/jobs\", headers=headers)\nif r.status_code != 200:\n    raise Exception('GET /jobs/ {}'.format(r.status_code))\n\n# print all jobs\nfor job in r.json():\n    print('{} [{}]'.format(job['id'], job['state']))\n</code></pre>"},{"location":"tutorials/api/#monitor-job-status","title":"Monitor Job Status","text":""},{"location":"tutorials/api/#jobsidstatus","title":"/jobs/{id}/status","text":""},{"location":"tutorials/api/#example-curl","title":"Example: curl","text":"<p>Command:</p> <pre><code>TOKEN=\"YOUR-API-TOKEN\";\n\ncurl -H \"X-Auth-Token: $TOKEN\" https://imputationserver.sph.umich.edu/api/v2/jobs/job-20160504-155023/status\n</code></pre> <p>Response:</p> <pre><code>{\n  \"application\":\"Michigan Imputation Server (Minimac4) 1.5.8\",\n  \"applicationId\":\"minimac4\",\n  \"deletedOn\":-1,\n  \"endTime\":1462369824173,\n  \"executionTime\":0,\n  \"id\":\"job-20160504-155023\",\n  \"logs\":\"\",\n  \"name\":\"job-20160504-155023\",\n  \"outputParams\":[],\n  \"positionInQueue\":0,\n  \"running\":false,\n  \"startTime\":1462369824173,\n  \"state\":5\n  ,\"steps\":[]\n}\n</code></pre>"},{"location":"tutorials/api/#monitor-job-details","title":"Monitor Job Details","text":""},{"location":"tutorials/api/#jobsid","title":"/jobs/{id}","text":""},{"location":"tutorials/api/#example-curl_1","title":"Example: curl","text":"<pre><code>TOKEN=\"YOUR-API-TOKEN\";\n\ncurl -H \"X-Auth-Token: $TOKEN\" https://imputationserver.sph.umich.edu/api/v2/jobs/job-20160504-155023/\n</code></pre>"},{"location":"tutorials/imputationbot/","title":"Imputation Bot Tutorial","text":""},{"location":"tutorials/imputationbot/#requirements","title":"Requirements","text":"<p>You will need the following things properly installed on your computer.</p> <ul> <li>Java 8 or higher</li> </ul>"},{"location":"tutorials/imputationbot/#download-and-install","title":"Download and Install","text":"<p>Download and install the latest version from our download page using the following commands:</p> <pre><code>curl -sL imputationbot.now.sh | bash\n</code></pre> <p>Test the installation with the following command:</p> <pre><code>imputationbot version\n</code></pre> <p>The documentation is available at http://imputationbot.readthedocs.io.</p>"},{"location":"tutorials/imputationbot/#get-your-api-token","title":"Get your API Token","text":"<p>Enable API access from your Profile page.</p> <ol> <li>Login and click on your username and then profile:</li> </ol> <p></p> <ol> <li>Click on Create API Token</li> </ol> <p></p> <ol> <li>Copy your API Token and paste it when <code>imputationbot add-instance</code> ask for it.</li> </ol> <p></p> <p>Api Tokens are valid for 30 days. You can check the status in the web interface or with <code>imputationbot instances</code></p> <p></p> <ol> <li>Next, configure imputationbot with the following command:</li> </ol> <pre><code>imputationbot add-instance\n</code></pre> <pre><code>Imputation Bot 0.8.3 \ud83e\udd16\nhttps://imputationserver.sph.umich.edu\n(c) 2019-2020 Lukas Forer, Sebastian Schoenherr and Christian Fuchsberger\nBuilt by lukas on 2020-09-01T11:31:10Z\n\nImputationserver Url [https://imputationserver.sph.umich.edu]:\nAPI Token [None]: eyJjdHkiOiJ0ZXh0XC9wbGFpbiIsImFsZyI6IkhTMjU2In0.eyJtYWlsIjoibHVrYXMuZm9yZXJAaS1tZWQuYWMuYXQiLCJleHBpcmUiOjE1NzMyMjkwNTY3NTEsIm5hbWUiOiJMdWthcyBGb3JlciIsImFwaSI6dHJ1ZSwidXNlcm5hbWUiOiJsdWtmb3IifQ.qY7iEM6ul-gJ0EuHmEUHRnoS5hZs7kD1HC95NFaxE9w\n</code></pre>"},{"location":"tutorials/imputationbot/#run-imputation","title":"Run imputation","text":"<p>You can use the <code>impute</code> command to submit a job:</p> <ul> <li>The <code>--files</code> parameter defines the location of our VCF file. If we plan to impute more than one file we can enter the path to a folder or separate multiple filenames by <code>,</code>.</li> <li>We can use the <code>--refpanel</code> parameter to specify the reference panel. For the 1000 Geneoms Phase 3 panel we use <code>1000g-phase-3-v5</code>. If we are not sure what panels are provided by the server, we can use <code>imputationbot refpanels</code> to get a list of all reference panels and their supported populations.</li> <li>For <code>--population</code> we use <code>eur</code> which stands for European</li> </ul> <p>The complete command looks like this:</p> <pre><code>imputationbot impute --files /path/to/your.vcf.gz --refpanel 1000g-phase-3-v5 --population eur\n</code></pre> <p>After submission we get the URL where we can monitor the progress of our job.</p>"},{"location":"tutorials/imputationbot/#monitor-jobs","title":"Monitor Jobs","text":"<p>However, we can also use Imputation Bot to get a list all our jobs and their status:</p> <pre><code>imputationbot jobs\n</code></pre> <p>To get more details about our job, we can use the <code>jobs</code> command followed by the job ID:</p> <pre><code>imputationbot jobs job-XXXXXXXX-XXXXXX-XXX\n</code></pre>"},{"location":"tutorials/imputationbot/#download-all-results","title":"Download all Results","text":"<p>We can use the <code>download</code> command to download all imputed genotypes and the QC report at once:</p> <pre><code>imputationbot download job-XXXXXXXX-XXXXXX-XXX\n</code></pre> <p>If the job is still running, Imputation Bot waits until the job is finished and starts automatically with the download.</p> <p>You can provide Imputation Bot the password we sent you via email and it decrypts all files for you:</p> <pre><code>imputationbot download job-XXXXXXXX-XXXXXX-XXX --password MYPASSWORD\n</code></pre>"},{"location":"tutorials/imputationbot/#documentation","title":"Documentation","text":"<p>The documentation is available at http://imputationbot.readthedocs.io.</p>"},{"location":"tutorials/imputationbot/#contact","title":"Contact","text":"<p>Feel free to contact us in case of any problems.</p>"},{"location":"workshops/ASHG2020/","title":"ASHG2020","text":"<p>Workshop ASHG2020</p>"},{"location":"workshops/ASHG2020/#the-michigan-imputation-server","title":"The Michigan Imputation Server","text":"<p>Data Preparation, Genotype Imputation, and Data Analysis</p>"},{"location":"workshops/ASHG2020/#for-questions","title":"For questions:","text":"<ul> <li>Please email us: mis-ashg2020@umich.edu</li> <li>Slack channel: Slack sign-up</li> </ul>"},{"location":"workshops/ASHG2020/#workshop-facilitators","title":"Workshop facilitator(s)","text":"<ul> <li>Christian Fuchsberger, christian.fuchsberger@eurac.edu (Eurac Research)</li> <li>Lukas Forer, lukas.forer@i-med.ac.at (Medical University of Innsbruck)</li> <li>Sarah Hanks, schanks@umich.edu (University of Michigan)</li> <li>Sebastian Schoenherr, sebastian.schoenherr@i-med.ac.at (Medical University of Innsbruck)</li> <li>Albert Smith, albertvs@umich.edu (University of Michigan)</li> <li>Cassie Spracklen, cspracklen@umass.edu (University of Massachusetts-Amherst)</li> </ul>"},{"location":"workshops/ASHG2020/#workshop-description-from-the-program","title":"Workshop description (from the program)","text":"<p>Genotype imputation is a key component of modern genetic studies. This interactive workshop is intended for anyone interested in learning how to use the Michigan Imputation Server (MIS; https://imputationserver.sph.umich.edu) to impute genotypes and how to use the imputed genotypes, with a special focus on up-coming reference panels, including the multi-ancestry panel from the TOPMed program. A brief overview of imputation and the server will be followed by demonstrations and exercises, including:</p> <ol> <li>quality control and preparation of genetic data for use on the MIS with a special focus on diverse ancestries and chromosome X</li> <li>tracking runs and use of the application program interface for larger jobs</li> <li>downloading data from the MIS and preparing data for genetic analysis</li> <li>performing a GWAS using imputed data and interpreting results, taking into account imputation quality</li> </ol> <p>We encourage participants to ask specific questions about their own projects. Workshop materials, including slides and example data sets, will be made available before the workshop and will remain online at the MIS website. We expect that this workshop will enable participants to generate high-quality imputed data sets and to properly analyze them. Attendees are expected to follow materials on their personal laptops.</p>"},{"location":"workshops/ASHG2020/#intended-audience","title":"Intended Audience","text":"<p>Attendees interested in learning how to perform genotype imputation and use imputed genotypes in their research, especially trainees. Prior experience with the analysis of genome-wide association studies (GWAS) and the unix command line are recommended for the workshop.</p>"},{"location":"workshops/ASHG2022/","title":"ASHG2022","text":"<p>Workshop ASHG2022 - Genetics and Genomics Digital Forum</p>"},{"location":"workshops/ASHG2022/#the-michigan-imputation-server","title":"The Michigan Imputation Server","text":"<p>Data Preparation, Genotype Imputation, and Data Analysis</p> <p>Workshop Website</p>"},{"location":"workshops/ASHG2022/#workshop-slides","title":"Workshop Slides","text":"<p>You can download the slides of all workshop sessions here. Please also have a look at the individual sessions below for additional training material.</p>"},{"location":"workshops/ASHG2022/#workshop-facilitators","title":"Workshop Facilitator(s)","text":"<ul> <li>Christian Fuchsberger, christian.fuchsberger@eurac.edu (Eurac Research)</li> <li>Sebastian Sch\u00f6nherr, sebastian.schoenherr@i-med.ac.at (Medical University of Innsbruck)</li> <li>Lukas Forer, lukas.forer@i-med.ac.at (Medical University of Innsbruck)</li> <li>Xueling Sim, ephsx@nus.edu.sg (National University of Singapore)</li> <li>Saori Sakaue, ssakaue@broadinstitute.org (Broad Institute)</li> <li>Albert Smith, albertvs@umich.edu (University of Michigan)</li> </ul>"},{"location":"workshops/ASHG2022/#workshop-description-from-the-program","title":"Workshop Description (from the program)","text":"<p>Genotype imputation is a key component of modern genetic association studies. The Michigan Imputation Server has thus far helped &gt; 9,600 researchers from around the world to impute &gt; 95 human genomes. This interactive workshop is intended for anyone interested in learning how to impute genotypes and to use the imputed genotypes, highlighting recent reference panels, including the multi-ancestry panel from the TOPMed program and a specialized HLA panel.</p> <p>A brief overview of imputation and the server will be followed by demonstrations and exercises, including:</p> <ol> <li> <p>quality control and preparation of genetic data for use on the MIS with a special focus on diverse ancestries, chromosome X, and the HLA region;</p> </li> <li> <p>tracking runs and use of the application program interface for larger jobs;</p> </li> <li> <p>downloading data from the MIS and preparing data for genetic analysis;</p> </li> <li> <p>performing a GWAS using imputed data and interpreting results, taking into account imputation quality;</p> </li> <li> <p>using the additional features, such as the polygenic risk score calculation.</p> </li> </ol> <p>We encourage participants to ask specific questions about their own projects. Workshop materials, including slides and example data sets, will be made available before the workshop and will remain online at the MIS website. We expect that this workshop will enable participants to generate high-quality imputed data sets and to effectively analyze them.</p>"},{"location":"workshops/ASHG2023/","title":"ASHG2023","text":"<p>Workshop ASHG2023</p>"},{"location":"workshops/ASHG2023/#welcome-to-the-michigan-imputation-server-workshop","title":"Welcome to the Michigan Imputation Server Workshop!","text":""},{"location":"workshops/ASHG2023/#workshop-title","title":"Workshop Title","text":"<p>The Michigan Imputation Server: Data Preparation, Genotype Imputation, and Data Analysis</p>"},{"location":"workshops/ASHG2023/#topic","title":"Topic","text":"<p>Statistical Genetics and Genetic Epidemiology</p>"},{"location":"workshops/ASHG2023/#target-audience","title":"Target Audience","text":"<p>Attendees interested in learning how to perform genotype imputation and use imputed genotypes in their research, especially trainees. There are no prerequisites for this workshop. Attendees are expected to follow materials on their personal laptops.</p>"},{"location":"workshops/ASHG2023/#workshop-slides","title":"Workshop Slides","text":"<p>You can download the slides of all workshop sessions here. Please also have a look at the individual sessions below for additional training material.</p>"},{"location":"workshops/ASHG2023/#links","title":"Links","text":"<ul> <li>Interactive Poll</li> <li>Workshop Website</li> </ul>"},{"location":"workshops/ASHG2023/#workshop-facilitators","title":"Workshop Facilitator(s)","text":"<ul> <li>Christian Fuchsberger, christian.fuchsberger@eurac.edu (Eurac Research)</li> <li>Sebastian Sch\u00f6nherr, sebastian.schoenherr@i-med.ac.at (Medical University of Innsbruck)</li> <li>Lukas Forer, lukas.forer@i-med.ac.at (Medical University of Innsbruck)</li> <li>Xueling Sim, ephsx@nus.edu.sg (National University of Singapore)</li> <li>Saori Sakaue, ssakaue@broadinstitute.org (Broad Institute)</li> <li>Albert Smith, albertvs@umich.edu (University of Michigan)</li> </ul>"},{"location":"workshops/ASHG2020/Session1/","title":"Session1","text":"<p>Workshop ASHG2020  &gt; Session 1: Imputation and the Server</p>"},{"location":"workshops/ASHG2020/Session1/#slides","title":"Slides","text":"<p>Download (pdf)</p>"},{"location":"workshops/ASHG2020/Session1/#links","title":"Links","text":"<p>Michigan Imputation Server</p> <p>TOPMed Imputation Server</p>"},{"location":"workshops/ASHG2020/Session1/#selected-literature","title":"Selected Literature","text":"<p>Das S, Forer L, Sch\u00f6nherr S, Sidore C, Locke AE, Kwong A, Vrieze SI, Chew EY, Levy S, McGue M, Schlessinger D, Stambolian D, Loh PR, Iacono WG, Swaroop A, Scott LJ, Cucca F, Kronenberg F, Boehnke M, Abecasis GR, Fuchsberger C. Next-generation genotype imputation service and methods. Nat Genet. 2016 Oct;48(10):1284-1287. doi: 10.1038/ng.3656.</p> <p>Das S, Abecasis GR, Browning BL. Genotype Imputation from Large Reference Panels. Annu Rev Genomics Hum Genet. 2018 Aug 31;19:73-96. doi: 10.1146/annurev-genom-083117-021602.</p> <p>Fuchsberger C, Abecasis GR, Hinds DA. minimac2: faster genotype imputation. Bioinformatics. 2015 Mar 1;31(5):782-4. doi: 10.1093/bioinformatics/btu704. Epub 2014 Oct 22. PMID: 25338720; PMCID: PMC4341061.</p> <p>Howie B, Fuchsberger C, Stephens M, Marchini J, Abecasis GR. Fast and accurate genotype imputation in genome-wide association studies through pre-phasing. Nat Genet. 2012 Jul 22;44(8):955-9. doi: 10.1038/ng.2354. PMID: 22820512; PMCID: PMC3696580.</p>"},{"location":"workshops/ASHG2020/Session2/","title":"Session2","text":"<p>Workshop ASHG2020 &gt; Session 2: Run a job, Quality Control and Data Preparation</p>"},{"location":"workshops/ASHG2020/Session2/#welcome","title":"Welcome","text":"<p>Welcome to Session 2! In this session you will learn how to submit a job on Michigan Imputation Server (MIS) and how to prepare your input data that they are passing the QC step.</p>"},{"location":"workshops/ASHG2020/Session2/#download-slides","title":"Download Slides","text":"<p>If you want to access the slides from our workshop please click here: Session 2 Slides (pdf)</p>"},{"location":"workshops/ASHG2020/Session2/#tutorial","title":"Tutorial","text":""},{"location":"workshops/ASHG2020/Session2/#getting-started-video-demo","title":"Getting Started Video Demo","text":"<p>As a quick start, the following video includes all required steps to submit and monitor a job using the graphical web interface.</p>"},{"location":"workshops/ASHG2020/Session2/#run-a-job-on-your-own","title":"Run a job on your own","text":"<p>After you registered successfully, the following URL will bring you directly to the job submission page: https://imputationserver.sph.umich.edu/index.html#!run/minimac4</p>"},{"location":"workshops/ASHG2020/Session2/#submission-page-select-parameters","title":"Submission Page - Select parameters","text":"<p>The UI includes several parameters which need to be specified. Our Getting Started guide describes all required parameters to do so.</p>"},{"location":"workshops/ASHG2020/Session2/#submission-page-upload-data","title":"Submission Page - Upload data","text":"<p>We are providing two data datasets that can be downloaded from below. In case the unphased dataset is selected, an additional phasing step using Eagle is automatically performed. For this demo, we recommend seleting the HapMap 2 panel (Input parameter 'Reference panel') to get your results as quick as possible. Please also have a look at our supported reference panels when using MIS in a production setup.</p> <p>Tip</p> <p>You can also copy/paste the URL from below and change \"File Upload\" to \"URLs (HTTP)\" load the data from a remote server (GitHub in this case).</p> <ul> <li>Phased dataset chr20 hg19</li> <li>Unphased dataset chr20 hg19</li> </ul>"},{"location":"workshops/ASHG2020/Session2/#submission-page-submit","title":"Submission Page - Submit","text":"<p>After all parameters have been selected and you click 'submit', the job will be added to our Input Validation and QC queue. Please have a look at our Data Preparation Guide to learn how to prepare your dataset using a pre-imputation tool.</p>"},{"location":"workshops/ASHG2020/Session2/#monitor-jobs-download-data","title":"Monitor Jobs, Download Data","text":"<p>If the job passes the QC step, it will be added to our long-time queue. As soon as your job is finished, you will receive an email with the password to download and encrypt your data. Also checkout our Pipeline Overview Guide to learn more about the different internal parameters. The complete source code can also be found on GitHub.</p>"},{"location":"workshops/ASHG2020/Session2/#contact","title":"Contact","text":"<p>If you have any questions please write me an email or contact me on Twitter.</p>"},{"location":"workshops/ASHG2020/Session3/","title":"Session3","text":"<p>Workshop ASHG2020 &gt; Session 3: Tracking runs and downloading data</p>"},{"location":"workshops/ASHG2020/Session3/#slides","title":"Slides","text":"<p>Learn how to monitor jobs and their progress, how to download imputation results and how to decrypt results using standard software.</p> <p>Download (pdf)</p>"},{"location":"workshops/ASHG2020/Session4/","title":"Session4","text":"<p>Workshop ASHG2020 &gt; Session 4: Performing GWAS using imputed data</p>"},{"location":"workshops/ASHG2020/Session4/#slides","title":"Slides","text":"<p>Download (pdf)</p>"},{"location":"workshops/ASHG2020/Session5/","title":"Session5","text":"<p>Workshop ASHG2020 &gt; Session 5: Imputation Bot</p>"},{"location":"workshops/ASHG2020/Session5/#slides","title":"Slides","text":"<p>Learn how to use Imputation bot to automate job submission and interactions with imputation servers.</p> <p>Download (pdf)</p>"},{"location":"workshops/ASHG2020/Session5/#tutorial","title":"Tutorial","text":""},{"location":"workshops/ASHG2020/Session5/#requirements","title":"Requirements","text":"<p>You will need the following things properly installed on your computer.</p> <ul> <li>Java 8 or higher</li> </ul>"},{"location":"workshops/ASHG2020/Session5/#download-and-install","title":"Download and Install","text":"<p>Download and install the latest version from our download page using the following commands:</p> <pre><code>curl -sL imputationbot.now.sh | bash\n</code></pre> <p>Test the installation with the following command:</p> <pre><code>imputationbot version\n</code></pre> <p>The documentation is available at http://imputationbot.readthedocs.io.</p>"},{"location":"workshops/ASHG2020/Session5/#get-your-api-token","title":"Get your API Token","text":"<p>Enable API access from your Profile page.</p> <ol> <li>Login and click on your username and then profile:</li> </ol> <p></p> <ol> <li>Click on Create API Token</li> </ol> <p></p> <ol> <li>Copy your API Token and paste it when <code>imputationbot add-instance</code> ask for it.</li> </ol> <p></p> <p>Api Tokens are valid for 30 days. You can check the status in the web interface or with <code>imputationbot instances</code></p> <p></p> <ol> <li>Next, configure imputationbot with the following command:</li> </ol> <pre><code>imputationbot add-instance\n</code></pre> <pre><code>Imputation Bot 0.8.3 \ud83e\udd16\nhttps://imputationserver.sph.umich.edu\n(c) 2019-2020 Lukas Forer, Sebastian Schoenherr and Christian Fuchsberger\nBuilt by lukas on 2020-09-01T11:31:10Z\n\nImputationserver Url [https://imputationserver.sph.umich.edu]:\nAPI Token [None]: eyJjdHkiOiJ0ZXh0XC9wbGFpbiIsImFsZyI6IkhTMjU2In0.eyJtYWlsIjoibHVrYXMuZm9yZXJAaS1tZWQuYWMuYXQiLCJleHBpcmUiOjE1NzMyMjkwNTY3NTEsIm5hbWUiOiJMdWthcyBGb3JlciIsImFwaSI6dHJ1ZSwidXNlcm5hbWUiOiJsdWtmb3IifQ.qY7iEM6ul-gJ0EuHmEUHRnoS5hZs7kD1HC95NFaxE9w\n</code></pre>"},{"location":"workshops/ASHG2020/Session5/#run-imputation","title":"Run imputation","text":"<p>You can use the <code>impute</code> command to submit a job:</p> <ul> <li>The <code>--files</code> parameter defines the location of our VCF file. If we plan to impute more than one file we can enter the path to a folder or separate multiple filenames by <code>,</code>.</li> <li>We can use the <code>--refpanel</code> parameter to specify the reference panel. For the 1000 Geneoms Phase 3 panel we use <code>1000g-phase-3-v5</code>. If we are not sure what panels are provided by the server, we can use <code>imputationbot refpanels</code> to get a list of all reference panels and their supported populations.</li> <li>For <code>--population</code> we use <code>eur</code> which stands for European</li> </ul> <p>The complete command looks like this:</p> <pre><code>imputationbot impute --files /path/to/your.vcf.gz --refpanel 1000g-phase-3-v5 --population eur\n</code></pre> <p>After submission we get the URL where we can monitor the progress of our job.</p>"},{"location":"workshops/ASHG2020/Session5/#monitor-jobs","title":"Monitor Jobs","text":"<p>However, we can also use Imputation Bot to get a list all our jobs and their status:</p> <pre><code>imputationbot jobs\n</code></pre> <p>To get more details about our job, we can use the <code>jobs</code> command followed by the job ID:</p> <pre><code>imputationbot jobs job-XXXXXXXX-XXXXXX-XXX\n</code></pre>"},{"location":"workshops/ASHG2020/Session5/#download-all-results","title":"Download all Results","text":"<p>We can use the <code>download</code> command to download all imputed genotypes and the QC report at once:</p> <pre><code>imputationbot download job-XXXXXXXX-XXXXXX-XXX\n</code></pre> <p>If the job is still running, Imputation Bot waits until the job is finished and starts automatically with the download.</p> <p>You can provide Imputation Bot the password we sent you via email and it decrypts all files for you:</p> <pre><code>imputationbot download job-XXXXXXXX-XXXXXX-XXX --password MYPASSWORD\n</code></pre>"},{"location":"workshops/ASHG2020/Session5/#documentation","title":"Documentation","text":"<p>The documentation is available at http://imputationbot.readthedocs.io.</p>"},{"location":"workshops/ASHG2020/Session5/#contact","title":"Contact","text":"<p>Feel free to contact us in case of any problems.</p>"},{"location":"workshops/ASHG2020/Session6/","title":"Session6","text":"<p>Workshop ASHG2020 &gt; Session 6: The TOPMed Imputation Server</p>"},{"location":"workshops/ASHG2020/Session6/#slides","title":"Slides","text":"<p>Download (pdf)</p>"},{"location":"workshops/ASHG2020/Session7/","title":"Session7","text":"<p>Workshop ASHG2020 &gt; Session 6: Session 7: Imputation panels</p>"},{"location":"workshops/ASHG2020/Session7/#slides","title":"Slides","text":"<p>Download (pdf)</p>"},{"location":"workshops/ASHG2022/Session1/","title":"Session1","text":"<p>Workshop ASHG2022  &gt; Session 1: Imputation and the Server</p>"},{"location":"workshops/ASHG2022/Session1/#slides","title":"Slides","text":"<p>Download (pdf)</p>"},{"location":"workshops/ASHG2022/Session1/#server-links","title":"Server Links","text":"<p>Michigan Imputation Server</p> <p>TOPMed Imputation Server</p>"},{"location":"workshops/ASHG2022/Session1/#selected-literature","title":"Selected Literature","text":"<p>Das S, Forer L, Sch\u00f6nherr S, Sidore C, Locke AE, Kwong A, Vrieze SI, Chew EY, Levy S, McGue M, Schlessinger D, Stambolian D, Loh PR, Iacono WG, Swaroop A, Scott LJ, Cucca F, Kronenberg F, Boehnke M, Abecasis GR, Fuchsberger C. Next-generation genotype imputation service and methods. Nat Genet. 2016 Oct;48(10):1284-1287. doi: 10.1038/ng.3656.</p> <p>Das S, Abecasis GR, Browning BL. Genotype Imputation from Large Reference Panels. Annu Rev Genomics Hum Genet. 2018 Aug 31;19:73-96. doi: 10.1146/annurev-genom-083117-021602.</p> <p>Fuchsberger C, Abecasis GR, Hinds DA. minimac2: faster genotype imputation. Bioinformatics. 2015 Mar 1;31(5):782-4. doi: 10.1093/bioinformatics/btu704. Epub 2014 Oct 22. PMID: 25338720; PMCID: PMC4341061.</p> <p>Howie B, Fuchsberger C, Stephens M, Marchini J, Abecasis GR. Fast and accurate genotype imputation in genome-wide association studies through pre-phasing. Nat Genet. 2012 Jul 22;44(8):955-9. doi: 10.1038/ng.2354. PMID: 22820512; PMCID: PMC3696580.</p>"},{"location":"workshops/ASHG2022/Session2/","title":"Session2","text":"<p>Workshop ASHG2022 &gt; Session 2: Run a job, Data Preparation and Data Download</p>"},{"location":"workshops/ASHG2022/Session2/#welcome","title":"Welcome","text":"<p>Welcome to Session 2! In this session you will learn how to submit a job on Michigan Imputation Server (MIS) and how to prepare your input data that they are passing the QC step.</p>"},{"location":"workshops/ASHG2022/Session2/#download-slides","title":"Download Slides","text":"<p>Download (pdf)</p>"},{"location":"workshops/ASHG2022/Session2/#tutorial","title":"Tutorial","text":""},{"location":"workshops/ASHG2022/Session2/#getting-started","title":"Getting Started","text":"<p>As a quick start, the following video includes all required steps to submit and monitor a job using the graphical web interface.</p>"},{"location":"workshops/ASHG2022/Session2/#run-a-job-on-your-own","title":"Run a job on your own","text":"<p>After you registered successfully, the following URL will bring you directly to the job submission page: https://imputationserver.sph.umich.edu/index.html#!run/minimac4</p>"},{"location":"workshops/ASHG2022/Session2/#submission-page-select-parameters","title":"Submission Page - Select parameters","text":"<p>The UI includes several parameters which need to be specified. Our Getting Started guide describes all required parameters to do so.</p>"},{"location":"workshops/ASHG2022/Session2/#submission-page-upload-data","title":"Submission Page - Upload data","text":"<p>We are providing two data datasets that can be downloaded from below. In case the unphased dataset is selected, an additional phasing step using Eagle is automatically performed. For this demo, we recommend selecting the HapMap 2 panel (Input parameter 'Reference panel') to get your results as quick as possible. Please also have a look at our supported reference panels when using MIS in a production setup.</p> <p>Tip</p> <p>You can also copy/paste the URL from below and change \"File Upload\" to \"URLs (HTTP)\" load the data from a remote server (GitHub in this case).</p> <ul> <li>Phased dataset chr20 hg19</li> <li>Unphased dataset chr20 hg19</li> </ul>"},{"location":"workshops/ASHG2022/Session2/#submission-page-submit","title":"Submission Page - Submit","text":"<p>After all parameters have been selected and you click 'submit', the job will be added to our Input Validation and QC queue. Please have a look at our Data Preparation Guide to learn how to prepare your dataset using a pre-imputation tool.</p>"},{"location":"workshops/ASHG2022/Session2/#monitor-jobs-download-data","title":"Monitor Jobs, Download Data","text":"<p>If the job passes the QC step, it will be added to our long-time queue. As soon as your job is finished, you will receive an email with the password to download and encrypt your data. Also checkout our Pipeline Overview Guide to learn more about the different internal parameters. The complete source code can also be found on GitHub.</p>"},{"location":"workshops/ASHG2022/Session2/#contact","title":"Contact","text":"<p>If you have any questions please write me an email or contact me on Twitter.</p>"},{"location":"workshops/ASHG2022/Session3/","title":"Session3","text":"<p>Workshop ASHG2022 &gt; Session 3: Performing GWAS using imputed data</p>"},{"location":"workshops/ASHG2022/Session3/#slides","title":"Slides","text":"<p>Download (pdf)</p>"},{"location":"workshops/ASHG2022/Session4/","title":"Session4","text":"<p>Workshop ASHG2022 &gt; Session 4: Imputation Bot and PGS Server</p>"},{"location":"workshops/ASHG2022/Session4/#slides","title":"Slides","text":"<p>Download (pdf)</p>"},{"location":"workshops/ASHG2022/Session4/#imputation-bot-tutorial","title":"Imputation Bot Tutorial","text":""},{"location":"workshops/ASHG2022/Session4/#requirements","title":"Requirements","text":"<p>You will need the following things properly installed on your computer.</p> <ul> <li>Java 8 or higher</li> </ul>"},{"location":"workshops/ASHG2022/Session4/#download-and-install","title":"Download and Install","text":"<p>Download and install the latest version from our download page using the following commands:</p> <pre><code>curl -sL imputationbot.now.sh | bash\n</code></pre> <p>Test the installation with the following command:</p> <pre><code>imputationbot version\n</code></pre> <p>The documentation is available at http://imputationbot.readthedocs.io.</p>"},{"location":"workshops/ASHG2022/Session4/#get-your-api-token","title":"Get your API Token","text":"<p>Enable API access from your Profile page.</p> <ol> <li>Login and click on your username and then profile:</li> </ol> <p></p> <ol> <li>Click on Create API Token</li> </ol> <p></p> <ol> <li>Copy your API Token and paste it when <code>imputationbot add-instance</code> ask for it.</li> </ol> <p></p> <p>Api Tokens are valid for 30 days. You can check the status in the web interface or with <code>imputationbot instances</code></p> <p></p> <ol> <li>Next, configure imputationbot with the following command:</li> </ol> <pre><code>imputationbot add-instance\n</code></pre> <pre><code>Imputation Bot 0.8.3 \ud83e\udd16\nhttps://imputationserver.sph.umich.edu\n(c) 2019-2020 Lukas Forer, Sebastian Schoenherr and Christian Fuchsberger\nBuilt by lukas on 2020-09-01T11:31:10Z\n\nImputationserver Url [https://imputationserver.sph.umich.edu]:\nAPI Token [None]: eyJjdHkiOiJ0ZXh0XC9wbGFpbiIsImFsZyI6IkhTMjU2In0.eyJtYWlsIjoibHVrYXMuZm9yZXJAaS1tZWQuYWMuYXQiLCJleHBpcmUiOjE1NzMyMjkwNTY3NTEsIm5hbWUiOiJMdWthcyBGb3JlciIsImFwaSI6dHJ1ZSwidXNlcm5hbWUiOiJsdWtmb3IifQ.qY7iEM6ul-gJ0EuHmEUHRnoS5hZs7kD1HC95NFaxE9w\n</code></pre>"},{"location":"workshops/ASHG2022/Session4/#run-imputation","title":"Run imputation","text":"<p>You can use the <code>impute</code> command to submit a job:</p> <ul> <li>The <code>--files</code> parameter defines the location of our VCF file. If we plan to impute more than one file we can enter the path to a folder or separate multiple filenames by <code>,</code>.</li> <li>We can use the <code>--refpanel</code> parameter to specify the reference panel. For the 1000 Geneoms Phase 3 panel we use <code>1000g-phase-3-v5</code>. If we are not sure what panels are provided by the server, we can use <code>imputationbot refpanels</code> to get a list of all reference panels and their supported populations.</li> <li>For <code>--population</code> we use <code>eur</code> which stands for European</li> </ul> <p>The complete command looks like this:</p> <pre><code>imputationbot impute --files /path/to/your.vcf.gz --refpanel 1000g-phase-3-v5 --population eur\n</code></pre> <p>After submission we get the URL where we can monitor the progress of our job.</p>"},{"location":"workshops/ASHG2022/Session4/#monitor-jobs","title":"Monitor Jobs","text":"<p>However, we can also use Imputation Bot to get a list all our jobs and their status:</p> <pre><code>imputationbot jobs\n</code></pre> <p>To get more details about our job, we can use the <code>jobs</code> command followed by the job ID:</p> <pre><code>imputationbot jobs job-XXXXXXXX-XXXXXX-XXX\n</code></pre>"},{"location":"workshops/ASHG2022/Session4/#download-all-results","title":"Download all Results","text":"<p>We can use the <code>download</code> command to download all imputed genotypes and the QC report at once:</p> <pre><code>imputationbot download job-XXXXXXXX-XXXXXX-XXX\n</code></pre> <p>If the job is still running, Imputation Bot waits until the job is finished and starts automatically with the download.</p> <p>You can provide Imputation Bot the password we sent you via email and it decrypts all files for you:</p> <pre><code>imputationbot download job-XXXXXXXX-XXXXXX-XXX --password MYPASSWORD\n</code></pre>"},{"location":"workshops/ASHG2022/Session4/#documentation","title":"Documentation","text":"<p>The documentation is available at http://imputationbot.readthedocs.io.</p>"},{"location":"workshops/ASHG2022/Session4/#contact","title":"Contact","text":"<p>Feel free to contact us in case of any problems.</p>"},{"location":"workshops/ASHG2022/Session5/","title":"Session5","text":"<p>Workshop ASHG2022 &gt; Session 5: HLA Imputation</p>"},{"location":"workshops/ASHG2022/Session5/#slides","title":"Slides","text":"<p>Download (pdf)</p>"},{"location":"workshops/ASHG2022/Session6/","title":"Session6","text":"<p>Workshop ASHG2022 &gt; Session 6: The TOPMed Imputation Server</p>"},{"location":"workshops/ASHG2022/Session6/#slides","title":"Slides","text":"<p>Download (pdf)</p>"},{"location":"workshops/ASHG2023/Session1/","title":"Session1","text":"<p>Workshop ASHG2023  &gt; Session 1: Imputation and the Server</p>"},{"location":"workshops/ASHG2023/Session1/#server-links","title":"Server Links","text":"<p>Michigan Imputation Server</p> <p>TOPMed Imputation Server</p>"},{"location":"workshops/ASHG2023/Session1/#selected-literature","title":"Selected Literature","text":"<p>Das S, Forer L, Sch\u00f6nherr S, Sidore C, Locke AE, Kwong A, Vrieze SI, Chew EY, Levy S, McGue M, Schlessinger D, Stambolian D, Loh PR, Iacono WG, Swaroop A, Scott LJ, Cucca F, Kronenberg F, Boehnke M, Abecasis GR, Fuchsberger C. Next-generation genotype imputation service and methods. Nat Genet. 2016 Oct;48(10):1284-1287. doi: 10.1038/ng.3656.</p> <p>Das S, Abecasis GR, Browning BL. Genotype Imputation from Large Reference Panels. Annu Rev Genomics Hum Genet. 2018 Aug 31;19:73-96. doi: 10.1146/annurev-genom-083117-021602.</p> <p>Fuchsberger C, Abecasis GR, Hinds DA. minimac2: faster genotype imputation. Bioinformatics. 2015 Mar 1;31(5):782-4. doi: 10.1093/bioinformatics/btu704. Epub 2014 Oct 22. PMID: 25338720; PMCID: PMC4341061.</p> <p>Howie B, Fuchsberger C, Stephens M, Marchini J, Abecasis GR. Fast and accurate genotype imputation in genome-wide association studies through pre-phasing. Nat Genet. 2012 Jul 22;44(8):955-9. doi: 10.1038/ng.2354. PMID: 22820512; PMCID: PMC3696580.</p>"},{"location":"workshops/ASHG2023/Session2/","title":"Session2","text":"<p>Workshop ASHG2023 &gt; Session 2: Run a job, Data Preparation and Data Download</p>"},{"location":"workshops/ASHG2023/Session2/#welcome","title":"Welcome","text":"<p>Welcome to Session 2! In this session you will learn how to submit a job on Michigan Imputation Server (MIS) and how to prepare your input data that they are passing the QC step.</p>"},{"location":"workshops/ASHG2023/Session2/#tutorial","title":"Tutorial","text":""},{"location":"workshops/ASHG2023/Session2/#getting-started","title":"Getting Started","text":"<p>As a quick start, the following video includes all required steps to submit and monitor a job using the graphical web interface.</p>"},{"location":"workshops/ASHG2023/Session2/#run-a-job-on-your-own","title":"Run a job on your own","text":"<p>After you registered successfully, the following URL will bring you directly to the job submission page: https://imputationserver.sph.umich.edu/index.html#!run/minimac4</p>"},{"location":"workshops/ASHG2023/Session2/#submission-page-select-parameters","title":"Submission Page - Select parameters","text":"<p>The UI includes several parameters which need to be specified. Our Getting Started guide describes all required parameters to do so.</p>"},{"location":"workshops/ASHG2023/Session2/#submission-page-upload-data","title":"Submission Page - Upload data","text":"<p>We are providing two data datasets that can be downloaded from below. In case the unphased dataset is selected, an additional phasing step using Eagle is automatically performed. For this demo, we recommend selecting the HapMap 2 panel (Input parameter 'Reference panel') to get your results as quick as possible. Please also have a look at our supported reference panels when using MIS in a production setup.</p> <ul> <li>Phased dataset chr20 hg19</li> <li>Unphased dataset chr20 hg19</li> </ul>"},{"location":"workshops/ASHG2023/Session2/#submission-page-submit","title":"Submission Page - Submit","text":"<p>After all parameters have been selected and you click 'submit', the job will be added to our Input Validation and QC queue. Please have a look at our Data Preparation Guide to learn how to prepare your dataset using a pre-imputation tool.</p>"},{"location":"workshops/ASHG2023/Session2/#monitor-jobs-download-data","title":"Monitor Jobs, Download Data","text":"<p>If the job passes the QC step, it will be added to our long-time queue. As soon as your job is finished, you will receive an email with the password to download and encrypt your data. Also checkout our Pipeline Overview Guide to learn more about the different internal parameters. The complete source code can also be found on GitHub.</p>"},{"location":"workshops/ASHG2023/Session2/#qc-results","title":"QC Results","text":"<p>A simple QC report including the frequency plot is available here.</p>"},{"location":"workshops/ASHG2023/Session2/#contact","title":"Contact","text":"<p>If you have any questions please write me an email or contact me on Twitter.</p>"},{"location":"workshops/ASHG2023/Session3/","title":"Session3","text":"<p>Workshop ASHG2023 &gt; Session 3: Performing GWAS using imputed data</p>"},{"location":"workshops/ASHG2023/Session4/","title":"Session4","text":"<p>Workshop ASHG2023 &gt; Session 4: nf-gwas, Imputation Bot and PGS Server</p>"},{"location":"workshops/ASHG2023/Session4/#nf-gwas-report","title":"nf-gwas Report","text":"<p>You can download a nf-gwas test report from here. Please unzip the file and open the index.html file.</p>"},{"location":"workshops/ASHG2023/Session4/#imputation-bot-tutorial","title":"Imputation Bot Tutorial","text":""},{"location":"workshops/ASHG2023/Session4/#requirements","title":"Requirements","text":"<p>You will need the following things properly installed on your computer.</p> <ul> <li>Java 8 or higher</li> </ul>"},{"location":"workshops/ASHG2023/Session4/#download-and-install","title":"Download and Install","text":"<p>Download and install the latest version from our download page using the following commands:</p> <pre><code>curl -sL imputationbot.now.sh | bash\n</code></pre> <p>Test the installation with the following command:</p> <pre><code>imputationbot version\n</code></pre> <p>The documentation is available at http://imputationbot.readthedocs.io.</p>"},{"location":"workshops/ASHG2023/Session4/#get-your-api-token","title":"Get your API Token","text":"<p>Enable API access from your Profile page.</p> <ol> <li>Login and click on your username and then profile:</li> </ol> <p></p> <ol> <li>Click on Create API Token</li> </ol> <p></p> <ol> <li>Copy your API Token and paste it when <code>imputationbot add-instance</code> ask for it.</li> </ol> <p></p> <p>Api Tokens are valid for 30 days. You can check the status in the web interface or with <code>imputationbot instances</code></p> <p></p> <ol> <li>Next, configure imputationbot with the following command:</li> </ol> <pre><code>imputationbot add-instance\n</code></pre> <pre><code>Imputation Bot 0.8.3 \ud83e\udd16\nhttps://imputationserver.sph.umich.edu\n(c) 2019-2020 Lukas Forer, Sebastian Schoenherr and Christian Fuchsberger\nBuilt by lukas on 2020-09-01T11:31:10Z\n\nImputationserver Url [https://imputationserver.sph.umich.edu]:\nAPI Token [None]: eyJjdHkiOiJ0ZXh0XC9wbGFpbiIsImFsZyI6IkhTMjU2In0.eyJtYWlsIjoibHVrYXMuZm9yZXJAaS1tZWQuYWMuYXQiLCJleHBpcmUiOjE1NzMyMjkwNTY3NTEsIm5hbWUiOiJMdWthcyBGb3JlciIsImFwaSI6dHJ1ZSwidXNlcm5hbWUiOiJsdWtmb3IifQ.qY7iEM6ul-gJ0EuHmEUHRnoS5hZs7kD1HC95NFaxE9w\n</code></pre>"},{"location":"workshops/ASHG2023/Session4/#run-imputation","title":"Run imputation","text":"<p>You can use the <code>impute</code> command to submit a job:</p> <ul> <li>The <code>--files</code> parameter defines the location of our VCF file. If we plan to impute more than one file we can enter the path to a folder or separate multiple filenames by <code>,</code>.</li> <li>We can use the <code>--refpanel</code> parameter to specify the reference panel. For the 1000 Geneoms Phase 3 panel we use <code>1000g-phase-3-v5</code>. If we are not sure what panels are provided by the server, we can use <code>imputationbot refpanels</code> to get a list of all reference panels and their supported populations.</li> <li>For <code>--population</code> we use <code>eur</code> which stands for European</li> </ul> <p>The complete command looks like this:</p> <pre><code>imputationbot impute --files /path/to/your.vcf.gz --refpanel 1000g-phase-3-v5 --population eur\n</code></pre> <p>After submission we get the URL where we can monitor the progress of our job.</p>"},{"location":"workshops/ASHG2023/Session4/#monitor-jobs","title":"Monitor Jobs","text":"<p>However, we can also use Imputation Bot to get a list all our jobs and their status:</p> <pre><code>imputationbot jobs\n</code></pre> <p>To get more details about our job, we can use the <code>jobs</code> command followed by the job ID:</p> <pre><code>imputationbot jobs job-XXXXXXXX-XXXXXX-XXX\n</code></pre>"},{"location":"workshops/ASHG2023/Session4/#download-all-results","title":"Download all Results","text":"<p>We can use the <code>download</code> command to download all imputed genotypes and the QC report at once:</p> <pre><code>imputationbot download job-XXXXXXXX-XXXXXX-XXX\n</code></pre> <p>If the job is still running, Imputation Bot waits until the job is finished and starts automatically with the download.</p> <p>You can provide Imputation Bot the password we sent you via email and it decrypts all files for you:</p> <pre><code>imputationbot download job-XXXXXXXX-XXXXXX-XXX --password MYPASSWORD\n</code></pre>"},{"location":"workshops/ASHG2023/Session4/#documentation","title":"Documentation","text":"<p>The documentation is available at http://imputationbot.readthedocs.io.</p>"},{"location":"workshops/ASHG2023/Session4/#contact","title":"Contact","text":"<p>Feel free to contact us in case of any problems.</p>"},{"location":"workshops/ASHG2023/Session5/","title":"Session5","text":"<p>Workshop ASHG2023 &gt; Session 5: HLA Imputation</p> <ul> <li>Example output of the HLA imputation VCF</li> </ul>"},{"location":"workshops/ASHG2023/Session6/","title":"Session6","text":"<p>Workshop ASHG2023 &gt; Session 6: The TOPMed Imputation Server</p>"}]}